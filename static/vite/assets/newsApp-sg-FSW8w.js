var ie=(p,d)=>()=>(d||p((d={exports:{}}).exports,d),d.exports);var C=(p,d,n)=>new Promise((s,g)=>{var a=u=>{try{o(n.next(u))}catch(i){g(i)}},t=u=>{try{o(n.throw(u))}catch(i){g(i)}},o=u=>u.done?s(u.value):Promise.resolve(u.value).then(a,t);o((n=n.apply(p,d)).next())});import{w as y,C as S,S as te,T as ne,D as b,F as v,M as e,U as O,I as c,J as l,V as R,W as $,z as B,X as H,H as F,R as A,K as Q,L as G,G as N,Y as de,Z as ue,_ as ce,Q as pe,O as T,$ as q,v as me}from"../index-CkhJNqIu.js";import{d as K,s as ge,h as se,f as oe,r as Y,u as W,_ as le,j as ve,p as fe,c as xe,o as he,m as Z,k as be,b as we,e as _e,R as I,a as ye,l as ke,i as Ce,g as $e}from"../AddButton.vue_vue_type_script_setup_true_lang-DHlliibc.js";var gn=ie(z=>{const ae=K("feed",()=>{const p=y([]),d=(t=null)=>"/feed/"+(t&&t.id?t.id+"/":""),n=t=>Y(t,p,o=>t.id&&o.id?t.id==o.id:t.url==o.url);return{feeds:p,loadFeeds:()=>C(z,null,function*(){return(yield oe(d())).forEach(n)}),removeFeed:t=>se(t,p,d(t),o=>t.id&&o.id?o.id==t.id:t.url==o.url),saveFeed:t=>ge(t,p,d(t),o=>t.id&&o.id?o.id==t.id:t.url==o.url)}}),Fe={class:"flex-1 lg:flex-2 my-3 mx-3 md:ml-3 px-4 py-3.5 bg-white min-h-screen shadow-[0px_0px_5px_-2px_#000] dark:bg-gray-800 dark:text-white"},Le={class:"mt-3"},Ne=["textContent"],Se=["placeholder"],Me={class:"mt-2"},Te=["textContent"],Ve=["placeholder"],Pe={class:"mt-6"},qe=["textContent"],Ie=S({__name:"FeedForm",props:{modelValue:{required:!0},modelModifiers:{}},emits:te(["cancel","submit"],["update:modelValue"]),setup(p,{emit:d}){const{t:n}=W(),s=ne(p,"modelValue"),g=d,a=y(s.value.title),t=y(s.value.url),o=()=>{s.value.title=a.value.trim(),s.value.url=t.value.trim(),g("submit")};return(u,i)=>(v(),b("div",Fe,[e("form",{name:"feedForm",onSubmit:$(o,["prevent"])},[e("p",null,[e("button",{type:"button",onClick:i[0]||(i[0]=x=>g("cancel")),class:"action-button hover:bg-gray-300",ref:"cancel-btn"},i[4]||(i[4]=[e("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-arrow-left dark:invert-100 dark:hover:invert-0"},null,-1)]),512)]),e("p",Le,[e("label",{for:"id_title",textContent:c(l(n)("message.name"))},null,8,Ne),O(e("input",{id:"id_title",name:"title",type:"text","onUpdate:modelValue":i[1]||(i[1]=x=>a.value=x),placeholder:l(n)("message.feed_title_placeholder"),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,8,Se),[[R,a.value]])]),e("p",Me,[e("label",{for:"id_url",textContent:c(l(n)("message.url"))},null,8,Te),O(e("input",{id:"id_url",name:"url",type:"url","onUpdate:modelValue":i[2]||(i[2]=x=>t.value=x),placeholder:l(n)("message.feed_url_placeholder"),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,8,Ve),[[R,t.value]])]),e("p",Pe,[e("button",{type:"submit",onClick:i[3]||(i[3]=$(x=>o(),["stop"])),textContent:c(l(n)("message.save")),ref:"submit-btn",class:"bg-green-700 hover:bg-green-600 text-white transition-colors duration-200 hover:cursor-pointer font-bold py-3 px-6 rounded-lg min-w-xs sm:min-w-sm"},null,8,qe)])],32)]))}}),Oe={class:"flex flex-row w-full max-w-screen-xl"},ze={key:0,class:"flex-1 md:-ml-6 md:pl-6"},We=["onClick"],Ee={class:"flex-1 break-all"},Re={class:"font-semibold flex flex-row justify-between items-start gap-2"},Ae=["textContent"],Xe=["textContent"],De=["onClick"],Ue=640,Je=S({__name:"FeedList",setup(p){const{width:d}=B(),n=ae(),s=H(null);function g(){return C(this,null,function*(){s.value={title:"",url:""}})}function a(){return C(this,null,function*(){const t=s.value;s.value=null,yield n.saveFeed(t)})}return n.loadFeeds(),(t,o)=>(v(),b("div",Oe,[(!s.value||l(d)>=Ue)&&l(n).feeds.length?(v(),b("div",ze,[(v(!0),b(Q,null,G(l(n).feeds,u=>(v(),b("div",{key:u.id,onClick:i=>s.value=u,class:N([{"!shadow-lg !scale-[102%]":s.value&&u.id===s.value.id},"flex flex-row items-center my-3 p-3 shadow-black shadow-xs bg-white hover:shadow-md hover:scale-[101%] dark:bg-gray-800 dark:text-white duration-200 cursor-pointer"])},[e("div",Ee,[e("h2",Re,[e("span",{textContent:c(u.title),class:"text-lg flex-1"},null,8,Ae)]),e("p",{class:"flex flex-row gap-1 items-center",textContent:c(u.url)},null,8,Xe)]),e("button",{type:"button",onClick:$(i=>l(n).removeFeed(u),["stop"]),class:"action-button hover:bg-red-700 hover:!border-red-700 group ml-auto",ref_for:!0,ref:"delete-btn"},o[3]||(o[3]=[e("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-trash dark:invert-100 group-hover:invert-100"},null,-1)]),8,De)],10,We))),128))])):F("",!0),s.value?(v(),A(Ie,{key:s.value.id||"new",modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=u=>s.value=u),onCancel:o[1]||(o[1]=u=>s.value=null),onSubmit:o[2]||(o[2]=u=>a())},null,8,["modelValue"])):F("",!0),s.value?F("",!0):(v(),A(le,{key:2,"add-item":g}))]))}}),je=K("filter",()=>{const p=y([]),d=(t=null)=>"/filter/"+(t&&t.id?t.id+"/":""),n=()=>C(z,null,function*(){return(yield oe(d())).forEach(s)}),s=t=>Y(t,p,o=>t.id&&o.id?t.id==o.id:t.entry==o.entry&&t.part==o.part&&t.feed_id==o.feed_id),g=t=>se(t,p,d(t),o=>t.id&&o.id?t.id==o.id:t.entry==o.entry&&t.part==o.part&&t.feed_id==o.feed_id);function a(t){return C(this,null,function*(){t.id||(t.entry=t.entry.toLowerCase(),p.value.unshift(t));try{s(yield ve(t,"post",d(t)))}catch(o){t.id||p.value.splice(0,1)}})}return{filters:p,loadFilters:n,removeFilter:g,saveFilter:a}}),Be={class:"flex-1 lg:flex-2 my-3 mx-3 md:!ml-0 px-4 py-3.5 bg-white min-h-screen shadow-[0px_0px_5px_-2px_#000] dark:bg-gray-800 dark:text-white"},He={class:"mt-3"},Qe=["textContent"],Ge=["placeholder"],Ke={class:"mt-2"},Ye=["textContent"],Ze=["textContent"],et=["textContent"],tt=["textContent"],nt=["textContent"],st={class:"mt-6"},ot=["textContent"],lt=S({__name:"FilterForm",props:{modelValue:{required:!0},modelModifiers:{}},emits:te(["cancel","submit"],["update:modelValue"]),setup(p,{emit:d}){const{t:n}=W(),s=ne(p,"modelValue"),g=d,a=y(s.value.entry),t=y(s.value.part),o=()=>{s.value.entry=a.value.trim(),s.value.part=t.value.trim(),g("submit")};return(u,i)=>(v(),b("div",Be,[e("form",{name:"filterForm",onSubmit:$(o,["prevent"])},[e("p",null,[e("button",{type:"button",onClick:i[0]||(i[0]=x=>g("cancel")),class:"action-button hover:bg-gray-300",ref:"cancel-btn"},i[4]||(i[4]=[e("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-arrow-left dark:invert-100 dark:hover:invert-0"},null,-1)]),512)]),e("p",He,[e("label",{for:"id_entry",textContent:c(l(n)("message.word"))},null,8,Qe),O(e("input",{id:"id_entry",name:"entry",type:"text","onUpdate:modelValue":i[1]||(i[1]=x=>a.value=x),placeholder:l(n)("message.filter_entry_placeholder"),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,8,Ge),[[R,a.value]])]),e("p",Ke,[e("label",{for:"id_part",textContent:c(l(n)("message.part_of_word"))},null,8,Ye),O(e("select",{id:"id_part",name:"part","onUpdate:modelValue":i[2]||(i[2]=x=>t.value=x),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},[e("option",{value:"start",textContent:c(l(n)("message.word_start"))},null,8,Ze),e("option",{value:"end",textContent:c(l(n)("message.word_end"))},null,8,et),e("option",{value:"full",textContent:c(l(n)("message.word_full"))},null,8,tt),e("option",{value:"part",textContent:c(l(n)("message.word_part"))},null,8,nt)],512),[[de,t.value]])]),e("p",st,[e("button",{type:"submit",onClick:i[3]||(i[3]=$(x=>o(),["stop"])),textContent:c(l(n)("message.save")),ref:"submit-btn",class:"bg-green-700 hover:bg-green-600 text-white transition-colors duration-200 hover:cursor-pointer font-bold py-3 px-6 rounded-lg min-w-xs sm:min-w-sm"},null,8,ot)])],32)]))}}),at={class:"flex flex-row w-full max-w-screen-xl"},rt={key:0,class:"flex-1 md:-ml-6 md:pl-6"},it=["onClick"],dt={class:"flex-1"},ut={class:"font-semibold flex flex-row justify-between items-start gap-2"},ct=["textContent"],pt=["textContent"],mt=["textContent"],gt=["onClick"],vt=768,ft=S({__name:"FilterList",setup(p){const{width:d}=B(),n=je(),s=H(null),{t:g}=W();function a(){return C(this,null,function*(){s.value={entry:"",part:"start"}})}function t(){return C(this,null,function*(){const o=s.value;s.value=null,yield n.saveFilter(o)})}return n.loadFilters(),(o,u)=>(v(),b("div",at,[(!s.value||l(d)>=vt)&&l(n).filters.length?(v(),b("div",rt,[(v(!0),b(Q,null,G(l(n).filters,i=>(v(),b("div",{key:i.id,onClick:x=>s.value=i,class:N([{"!shadow-lg !scale-[102%]":s.value&&i.id===s.value.id},"flex flex-row items-center my-3 p-3 md:mx-4 shadow-black shadow-xs bg-white hover:shadow-md hover:scale-[101%] dark:bg-gray-800 dark:text-white duration-200 cursor-pointer break-words"])},[e("div",dt,[e("h2",ut,[e("span",{textContent:c(i.entry),class:"text-lg flex-1"},null,8,ct)]),i.part?(v(),b("p",{key:0,class:"flex flex-row gap-1 items-center",textContent:c(l(g)("message.word_"+i.part))},null,8,pt)):F("",!0),i.feed_id?(v(),b("p",{key:1,class:"flex flex-row gap-1 items-center",textContent:c(i.feed_id)},null,8,mt)):F("",!0)]),e("button",{type:"button",onClick:$(x=>l(n).removeFilter(i),["stop"]),class:"action-button hover:bg-red-700 hover:!border-red-700 group ml-auto",ref_for:!0,ref:"delete-btn"},u[3]||(u[3]=[e("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-trash group-hover:invert-100"},null,-1)]),8,gt)],10,it))),128))])):F("",!0),s.value?(v(),A(lt,{key:s.value.id||"new",modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=i=>s.value=i),onCancel:u[1]||(u[1]=i=>s.value=null),onSubmit:u[2]||(u[2]=i=>t())},null,8,["modelValue"])):F("",!0),s.value?F("",!0):(v(),A(le,{key:2,"add-item":a}))]))}});let U=null,ee=null;const xt=6e5,ht=(p,d)=>{const n=JSON.parse(d.data);n.id=="meta"?X().refreshNewsMeta(n):X().refreshNews(n)},bt=()=>{clearTimeout(ee),ee=setTimeout(wt,xt)},j=()=>C(z,null,function*(){return bt(),U=yield fe(U,"/news/",ht),U}),wt=()=>xe(U),_t=3e5,X=K("news",()=>{const p=y([]),d=y({id:"meta",unread:0,reading:0});let n,s=4;const g=h=>{h.description&&h.description.trim()&&(h.description=new DOMParser().parseFromString(h.description,"text/html").body.textContent||""),Y(h,p,M=>M.id==h.id,!0)},a=()=>C(z,null,function*(){return(yield j()).send(JSON.stringify(n&&n.request?n:{request:"unread"}))}),t=h=>d.value=h;function o(h,M=!1){return C(this,null,function*(){try{(yield j()).send(JSON.stringify({request:M?"bookmark":"hide",id:h.id}));const L=p.value.findIndex(J=>J.id==h.id);L>=0&&(p.value.splice(L,1),n&&(n.request=="unread"||n.request=="reading")&&(d.value[n.request]-=d.value[n.request]>0?1:0)),p.value.length<=s&&(yield a())}catch(L){console.error(L)}})}const u=y(!1),i=()=>C(z,null,function*(){u.value?yield a():((yield j()).send(JSON.stringify({request:"fetch"})),u.value=!0,setInterval(()=>u.value=!1,_t))}),x=h=>{n=h},V=()=>{p.value=[]},E=()=>{try{const h=localStorage.getItem("newsPreferences");h&&(s=JSON.parse(h).newsListLengthForAutoLoad||4)}catch(h){}};return E(),{news:p,loadNews:a,refreshNews:g,markNews:o,fetchMoreNews:i,setQuery:x,dropNews:V,fetchingMoreNews:u,refreshNewsMeta:t,newsMeta:d,loadPreferences:E}}),yt={class:"flex flex-col items-center xl:max-w-screen-xl overflow-x-clip xl:[overflow-clip-margin:3px]"},kt=["href","onTouchstart","onTouchend","onTouchmove","onMousedown","onMousemove","onMouseup","onClick"],Ct={class:"flex flex-col gap-3 md:gap-4 lg:gap-5 sm:flex-row"},$t={class:"flex flex-col gap-1 sm:gap-2 flex-1 wrap-break-word"},Ft={class:"font-semibold flex flex-row justify-between items-start gap-2"},Lt=["textContent"],Nt=["innerHTML"],St={key:0,class:"mx-auto action-button sm:!hidden bg-white dark:bg-gray-800 !py-0 -mt-5 group"},Mt={class:"hidden sm:flex sm:flex-row"},Tt=["textContent"],Vt=["textContent"],Pt={class:"flex flex-row sm:flex-col sm:hidden"},qt=["textContent"],It=["textContent"],Ot={class:"flex flex-row sm:flex-col justify-center sm:justify-end items-center gap-3"},zt=["onClick"],Wt=["onClick"],Et=["textContent"],Rt=640,D=S({__name:"NewsList",props:ue({request:{},id:{}},{request:"unread"}),setup(p){const d=p,{t:n}=W(),s=X();s.setQuery(d);const g=ae(),a=H([]),t=y(""),o=y([]),{width:u}=B();he((_,f)=>{s.dropNews()});const i=_=>{const f=g.feeds.find(r=>r.id==_);return f?f.title||f.url:""},x=y(0);let V=!1;const E=(_,f,r)=>{const w="changedTouches"in r?r.changedTouches[0].clientX:r.screenX;x.value=w},h=(_,f,r)=>{if(x.value<=0)return;const w="changedTouches"in r?r.changedTouches[0].clientX:r.screenX,m=Math.abs(w)-Math.abs(x.value),P=m>0?"right":"left";if(!V&&Math.abs(m)>20&&(V=!0),t.value!=P&&(t.value=P),Math.abs(m)>20){const re=a.value[f];re.style.left=m.toString()+"px"}},M=(_,f=!1)=>{setTimeout(()=>{const r=o.value.indexOf(_.id);r>=0&&o.value.splice(r,1),s.markNews(_,f)},400)},L=(_,f,r,w=null)=>{const m=a.value[f];let P=m.clientWidth||100;w||(t.value="",P=Math.abs("changedTouches"in r?r.changedTouches[0].clientX:r.screenX)-Math.abs(x.value),x.value=0,setTimeout(()=>V=!1,100),w=P>0?"right":"left"),Math.abs(P)/m.clientWidth>.25?w=="left"?(M(_),m.style.left="-"+(m.clientWidth*2).toString()+"px"):w=="right"&&(M(_,!0),m.style.left=(m.clientWidth*2).toString()+"px"):m.style.left="0"},J=(_,f,r)=>{if(V){r.preventDefault(),r.stopPropagation();return}if(u.value<Rt&&_.description&&_.description.length>128&&o.value.indexOf(_.id)<0){o.value.push(_.id),r.preventDefault(),r.stopPropagation();return}};return s.loadNews(),g.feeds.length||g.loadFeeds(),(_,f)=>(v(),b("div",yt,[(v(!0),b(Q,null,G(l(s).news,(r,w)=>(v(),b("div",{key:r.id,class:N(["flex w-full overflow-x-clip xl:[overflow-clip-margin:3px] relative gap-3 my-3 bg-gray-200",{"bg-green-700":t.value=="right"}])},[e("span",{class:N(["absolute opacity-0 top-0 right-5 w-[50px] h-[100%] duration-500 bg-no-repeat bg-center bg-contain svg-eye-slash",{"opacity-100 !duration-[0ms]":t.value=="left"}])},null,2),e("span",{class:N(["absolute opacity-0 top-0 left-5 w-[50px] h-[100%] duration-500 bg-no-repeat bg-center bg-contain svg-bookmark invert-100",{"opacity-100 !duration-[0ms]":t.value=="right"}])},null,2),e("a",{href:r.link,target:"_blank",ref_for:!0,ref_key:"newsElements",ref:a,onTouchstart:m=>E(r,w,m),onTouchend:m=>L(r,w,m),onTouchmove:m=>h(r,w,m),onMousedown:$(m=>E(r,w,m),["prevent"]),onMousemove:$(m=>h(r,w,m),["prevent"]),onMouseup:$(m=>L(r,w,m),["prevent"]),onClick:m=>J(r,w,m),class:N([{"transition-all duration-500 ease-linear":!t.value},"relative p-3 size-full shadow-black shadow-xs bg-white dark:bg-gray-800 dark:text-white cursor-pointer"])},[e("span",Ct,[e("span",$t,[e("span",Ft,[e("span",{textContent:c(r.title),class:"text-lg"},null,8,Lt)]),e("span",{innerHTML:r.description,class:N(["text-md flex-1 max-h-6 sm:!max-h-[60vh] overflow-y-hidden duration-300",{"max-h-[60vh]":r.description&&r.description.length<=128||o.value.indexOf(r.id)>=0}])},null,10,Nt),r.description&&r.description.length>128&&o.value.indexOf(r.id)<0?(v(),b("span",St,f[1]||(f[1]=[e("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-chevron-down group-hover:invert-100 dark:invert-100"},null,-1)]))):F("",!0),e("span",Mt,[e("span",{textContent:c(i(r.feed)),class:"flex-1"},null,8,Tt),e("span",{textContent:c(r.published?l(n)("message.published")+" "+l(Z)(r.published).fromNow():"")},null,8,Vt)])]),e("span",{class:N(["flex flex-col gap-2 sm:order-first min-w-[30%] lg:min-w-[310px] min-h-[200px] sm:min-h-auto md:min-h-[150px] lg:min-h-[150px]",{"min-h-auto sm:hidden":!r.enclosure_url}])},[r.enclosure_url?(v(),b("span",{key:0,class:"flex flex-1 w-full bg-cover bg-center bg-no-repeat",style:ce({"background-image":"url('"+r.enclosure_url+"')"})},null,4)):F("",!0),e("span",Pt,[e("span",{textContent:c(i(r.feed)),class:"flex-1"},null,8,qt),e("span",{textContent:c(r.published?l(n)("message.published")+" "+l(Z)(r.published).fromNow():"")},null,8,It)])],2),e("span",Ot,[e("span",{onClick:$(m=>L(r,w,m,"right"),["stop","prevent"]),class:"action-button hover:bg-green-700 hover:!border-green-700 group",ref_for:!0,ref:"bookmark-btn"},f[2]||(f[2]=[e("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-bookmark group-hover:invert-100 dark:invert-100"},null,-1)]),8,zt),e("span",{onClick:$(m=>L(r,w,m,"left"),["stop","prevent"]),class:"action-button hover:bg-gray-300",ref_for:!0,ref:"hide-btn"},f[3]||(f[3]=[e("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-eye-slash dark:invert-100"},null,-1)]),8,Wt)])])],42,kt)],2))),128)),e("button",{type:"button",onClick:f[0]||(f[0]=r=>l(s).fetchMoreNews()),class:"action-button mt-2 mb-5 !px-4 gap-2 hover:bg-green-700 hover:!border-green-700 hover:text-white font-semibold duration-200 group flex flex-row items-center shadow-black shadow-xs bg-white hover:shadow-md hover:scale-[101%] dark:bg-gray-800 dark:!border-gray-900 dark:text-white cursor-pointer"},[f[4]||(f[4]=e("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-refresh group-hover:invert-100 dark:invert-100"},null,-1)),e("span",{textContent:c(l(s).fetchingMoreNews?l(n)("message.check_latest_news"):l(n)("message.load_more_news"))},null,8,Et)])]))}}),At={class:"flex flex-col items-start w-full xl:max-w-screen-xl bg-white dark:bg-gray-800 shadow-md p-4 my-3 sm:px-6 sm:py-5 sm:my-4"},Xt=["textContent"],Dt={class:"mb-3"},Ut=["textContent"],Jt={class:"mb-6"},jt=["textContent"],Bt=["textContent"],Ht=S({__name:"PreferencesForm",setup(p){const{t:d}=W(),n=be(),s=y(10),g=y(4),a=X();pe(()=>{const o=localStorage.getItem("newsPreferences");if(o)try{const u=JSON.parse(o);s.value=u.newsListLength||10,g.value=u.newsListLengthForAutoLoad||4}catch(u){}});const t=()=>{localStorage.setItem("newsPreferences",JSON.stringify({newsListLength:s.value,newsListLengthForAutoLoad:g.value})),a.loadPreferences(),n.back()};return(o,u)=>(v(),b("div",At,[e("h1",{class:"text-xl text-left font-bold mb-4 dark:text-white",textContent:c(l(d)("message.preferences"))},null,8,Xt),e("form",{onSubmit:$(t,["prevent"]),name:"preferencesForm"},[e("div",Dt,[e("label",{for:"newsListLength_id",textContent:c(l(d)("message.news_list_length"))},null,8,Ut),O(e("input",{id:"newsListLength_id",name:"newsListLength","onUpdate:modelValue":u[0]||(u[0]=i=>s.value=i),type:"number",min:"1",class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,512),[[R,s.value,void 0,{number:!0}]])]),e("div",Jt,[e("label",{for:"newsListLengthForAutoLoad_id",textContent:c(l(d)("message.news_list_length_for_auto_load"))},null,8,jt),O(e("input",{id:"newsListLengthForAutoLoad_id",name:"newsListLengthForAutoLoad","onUpdate:modelValue":u[1]||(u[1]=i=>g.value=i),type:"number",min:"1",class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,512),[[R,g.value,void 0,{number:!0}]])]),e("button",{type:"submit",ref:"submit-btn",textContent:c(l(d)("message.save")),class:"bg-green-700 hover:bg-green-600 text-white transition-colors duration-200 hover:cursor-pointer font-bold py-3 px-6 mb-3 rounded-lg min-w-xs sm:min-w-sm"},null,8,Bt)],32)]))}}),k={news:{path:"/news",component:D,props:{request:"unread"}},reading:{path:"/news/reading",component:D,props:{request:"reading"}},feeds:{path:"/news/feeds",component:Je},filters:{path:"/news/filters",component:ft},viewed:{path:"/news/viewed",component:D,props:{request:"hidden"}},preferences:{path:"/news/preferences",component:Ht},default:{path:"/",component:D,props:{request:"unread"}}},Qt=we({history:_e(),routes:[k.news,k.reading,k.viewed,k.feeds,k.filters,k.preferences,k.default]}),Gt={class:"bg-td-gray-light inset-shadow-[0_0_5px] inset-shadow-td-gray-dark/30 border-b border-b-gray-300 px-2 w-full dark:bg-gray-950 dark:border-b-black duration-200"},Kt={class:"flex flex-row flex-wrap justify-start items-center gap-3 w-full max-w-screen-xl mx-auto font-medium",role:"menu"},Yt={role:"menuitem"},Zt=["textContent"],en=["textContent"],tn={role:"menuitem"},nn=["textContent"],sn=["textContent"],on={role:"menuitem",class:"relative"},ln=["textContent"],an=["textContent"],rn=["textContent"],dn=["textContent"],un=["textContent"],cn=S({__name:"NewsNavigation",setup(p){const{t:d}=W(),n=y(!1),s=X();return(g,a)=>(v(),b("nav",Gt,[e("ul",Kt,[e("li",Yt,[T(l(I),{to:l(k).news,onClick:a[0]||(a[0]=t=>n.value=!1),class:"navigation-button relative"},{default:q(()=>[a[7]||(a[7]=e("span",{class:"navigation-icon svg-inbox"},null,-1)),e("span",{textContent:c(l(d)("message.unread"))},null,8,Zt),e("span",{class:"absolute -right-2 -top-[1px] text-xs text-white bg-td-primary dark:text-black dark:bg-td-secondary rounded-xl py-0 px-1",textContent:c(l(s).newsMeta.unread)},null,8,en)]),_:1},8,["to"])]),e("li",tn,[T(l(I),{to:l(k).reading,onClick:a[1]||(a[1]=t=>n.value=!1),class:"navigation-button relative"},{default:q(()=>[a[8]||(a[8]=e("span",{class:"navigation-icon svg-newspaper"},null,-1)),e("span",{textContent:c(l(d)("message.reading"))},null,8,nn),e("span",{class:"absolute -right-2 -top-[1px] text-xs text-white bg-td-primary dark:text-black dark:bg-td-secondary rounded-xl py-0 px-1",textContent:c(l(s).newsMeta.reading)},null,8,sn)]),_:1},8,["to"])]),e("li",on,[e("button",{type:"button",class:"navigation-button cursor-pointer",onClick:a[2]||(a[2]=t=>n.value=!n.value),id:"settings-btn"},[a[9]||(a[9]=e("span",{class:"navigation-icon svg-cog"},null,-1)),e("span",{textContent:c(l(d)("message.settings"))},null,8,ln)]),e("div",{class:N(["absolute hidden z-10 right-0 mt-2 w-48 bg-white shadow-black shadow-sm py-1 border-b-gray-900 dark:bg-gray-900",{"!block":n.value}]),role:"menu","aria-orientation":"vertical","aria-labelledby":"settings-btn"},[T(l(I),{to:l(k).viewed,onClick:a[3]||(a[3]=t=>n.value=!1),class:"navigation-button px-4"},{default:q(()=>[a[10]||(a[10]=e("span",{class:"navigation-icon svg-eye"},null,-1)),e("span",{textContent:c(l(d)("message.viewed"))},null,8,an)]),_:1},8,["to"]),T(l(I),{to:l(k).feeds,onClick:a[4]||(a[4]=t=>n.value=!1),class:"navigation-button px-4"},{default:q(()=>[a[11]||(a[11]=e("span",{class:"navigation-icon svg-rss"},null,-1)),e("span",{textContent:c(l(d)("message.feeds"))},null,8,rn)]),_:1},8,["to"]),T(l(I),{to:l(k).filters,onClick:a[5]||(a[5]=t=>n.value=!1),class:"navigation-button px-4"},{default:q(()=>[a[12]||(a[12]=e("span",{class:"navigation-icon svg-funnel"},null,-1)),e("span",{textContent:c(l(d)("message.filters"))},null,8,dn)]),_:1},8,["to"]),T(l(I),{to:l(k).preferences,onClick:a[6]||(a[6]=t=>n.value=!1),class:"navigation-button px-4"},{default:q(()=>[a[13]||(a[13]=e("span",{class:"navigation-icon svg-cog"},null,-1)),e("span",{textContent:c(l(d)("message.preferences"))},null,8,un)]),_:1},8,["to"])],2)])])]))}}),pn={class:"flex flex-col items-center"},mn=S({__name:"NewsApp",setup(p){const d=ye();return(n,s)=>(v(),b("div",pn,[T(cn),(v(),A(l(ke),{key:l(d).fullPath}))]))}});document.getElementById("news-app")&&me(mn).use(Ce).use($e()).use(Qt).mount("#news-app")});export default gn();
