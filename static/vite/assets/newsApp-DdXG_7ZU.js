var jt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var j=(e,t,n)=>new Promise((s,o)=>{var l=a=>{try{u(n.next(a))}catch(i){o(i)}},r=a=>{try{u(n.throw(a))}catch(i){o(i)}},u=a=>a.done?s(a.value):Promise.resolve(a.value).then(l,r);u((n=n.apply(e,t)).next())});import{R as te,S as Wt,T as zt,U as Kt,V as ke,C as X,J as x,W as Qt,X as Xt,B as K,Y as bt,Z as Me,w as G,y as Jt,_ as Yt,$ as yt,a0 as Ct,D,F as L,M as p,a1 as W,a2 as ie,I as N,a3 as xe,z as je,H as Q,Q as _e,K as We,L as ze,G as Y,a4 as Zt,a5 as en,a6 as tn,a7 as nn,O as ne,a8 as ae,v as sn}from"../index-DsV9d6SF.js";import{d as Ke,s as on,b as Et,f as Rt,r as Qe,u as fe,_ as kt,e as rn,p as an,c as ln,m as st,i as un,a as cn}from"../AddButton.vue_vue_type_script_setup_true_lang-ePPDXgOU.js";var ar=jt(de=>{/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const le=typeof document!="undefined";function At(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function dn(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&At(e.default)}const P=Object.assign;function De(e,t){const n={};for(const s in t){const o=t[s];n[s]=z(o)?o.map(e):e(o)}return n}const ve=()=>{},z=Array.isArray;function ot(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}const Nt=/#/g,fn=/&/g,pn=/\//g,mn=/=/g,hn=/\?/g,St=/\+/g,gn=/%5B/g,vn=/%5D/g,Ot=/%5E/g,xn=/%60/g,Pt=/%7B/g,_n=/%7C/g,It=/%7D/g,wn=/%20/g;function Xe(e){return e==null?"":encodeURI(""+e).replace(_n,"|").replace(gn,"[").replace(vn,"]")}function bn(e){return Xe(e).replace(Pt,"{").replace(It,"}").replace(Ot,"^")}function Be(e){return Xe(e).replace(St,"%2B").replace(wn,"+").replace(Nt,"%23").replace(fn,"%26").replace(xn,"`").replace(Pt,"{").replace(It,"}").replace(Ot,"^")}function yn(e){return Be(e).replace(mn,"%3D")}function Cn(e){return Xe(e).replace(Nt,"%23").replace(hn,"%3F")}function En(e){return Cn(e).replace(pn,"%2F")}function we(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch(t){}return""+e}const Rn=/\/$/,kn=e=>e.replace(Rn,"");function Fe(e,t,n="/"){let s,o={},l="",r="";const u=t.indexOf("#");let a=t.indexOf("?");return a=u>=0&&a>u?-1:a,a>=0&&(s=t.slice(0,a),l=t.slice(a,u>0?u:t.length),o=e(l.slice(1))),u>=0&&(s=s||t.slice(0,u),r=t.slice(u,t.length)),s=On(s!=null?s:t,n),{fullPath:s+l+r,path:s,query:o,hash:we(r)}}function An(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function rt(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Nn(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&ue(t.matched[s],n.matched[o])&&Lt(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ue(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Lt(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!Sn(e[n],t[n]))return!1;return!0}function Sn(e,t){return z(e)?at(e,t):z(t)?at(t,e):(e==null?void 0:e.valueOf())===(t==null?void 0:t.valueOf())}function at(e,t){return z(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function On(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let l=n.length-1,r,u;for(r=0;r<s.length;r++)if(u=s[r],u!==".")if(u==="..")l>1&&l--;else break;return n.slice(0,l).join("/")+"/"+s.slice(r).join("/")}const Z={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Ue=function(e){return e.pop="pop",e.push="push",e}({}),Ve=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function Pn(e){if(!e)if(le){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),kn(e)}const In=/^[^#]+#/;function Ln(e,t){return e.replace(In,"#")+t}function Tn(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Ae=()=>({left:window.scrollX,top:window.scrollY});function Mn(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Tn(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function lt(e,t){return(history.state?history.state.position-t:-1)+e}const qe=new Map;function Dn(e,t){qe.set(e,t)}function Fn(e){const t=qe.get(e);return qe.delete(e),t}function Vn(e){return typeof e=="string"||e&&typeof e=="object"}function Tt(e){return typeof e=="string"||typeof e=="symbol"}let T=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const Mt=Symbol("");T.MATCHER_NOT_FOUND+"",T.NAVIGATION_GUARD_REDIRECT+"",T.NAVIGATION_ABORTED+"",T.NAVIGATION_CANCELLED+"",T.NAVIGATION_DUPLICATED+"";function ce(e,t){return P(new Error,{type:e,[Mt]:!0},t)}function J(e,t){return e instanceof Error&&Mt in e&&(t==null||!!(e.type&t))}const Gn=["params","query","hash"];function $n(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of Gn)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function Bn(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<n.length;++s){const o=n[s].replace(St," "),l=o.indexOf("="),r=we(l<0?o:o.slice(0,l)),u=l<0?null:we(o.slice(l+1));if(r in t){let a=t[r];z(a)||(a=t[r]=[a]),a.push(u)}else t[r]=u}return t}function it(e){let t="";for(let n in e){const s=e[n];if(n=yn(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(z(s)?s.map(o=>o&&Be(o)):[s&&Be(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Un(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=z(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const Dt=Symbol(""),ut=Symbol(""),Ne=Symbol(""),Je=Symbol(""),He=Symbol("");function ge(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function qn(e,t,n){const s=()=>{e[t].delete(n)};Wt(s),zt(s),Kt(()=>{e[t].add(n)}),e[t].add(n)}function Hn(e){const t=te(Dt,{}).value;t&&qn(t,"leaveGuards",e)}function ee(e,t,n,s,o,l=r=>r()){const r=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((u,a)=>{const i=h=>{h===!1?a(ce(T.NAVIGATION_ABORTED,{from:n,to:t})):h instanceof Error?a(h):Vn(h)?a(ce(T.NAVIGATION_GUARD_REDIRECT,{from:t,to:h})):(r&&s.enterCallbacks[o]===r&&typeof h=="function"&&r.push(h),u())},m=l(()=>e.call(s&&s.instances[o],t,n,i));let d=Promise.resolve(m);e.length<3&&(d=d.then(i)),d.catch(h=>a(h))})}function Ge(e,t,n,s,o=l=>l()){const l=[];for(const r of e)for(const u in r.components){let a=r.components[u];if(!(t!=="beforeRouteEnter"&&!r.instances[u]))if(At(a)){const i=(a.__vccOpts||a)[t];i&&l.push(ee(i,n,s,r,u,o))}else{let i=a();l.push(()=>i.then(m=>{if(!m)throw new Error(`Couldn't resolve component "${u}" at "${r.path}"`);const d=dn(m)?m.default:m;r.mods[u]=m,r.components[u]=d;const h=(d.__vccOpts||d)[t];return h&&ee(h,n,s,r,u,o)()}))}}return l}function jn(e,t){const n=[],s=[],o=[],l=Math.max(t.matched.length,e.matched.length);for(let r=0;r<l;r++){const u=t.matched[r];u&&(e.matched.find(i=>ue(i,u))?s.push(u):n.push(u));const a=e.matched[r];a&&(t.matched.find(i=>ue(i,a))||o.push(a))}return[n,s,o]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Wn=()=>location.protocol+"//"+location.host;function Ft(e,t){const{pathname:n,search:s,hash:o}=t,l=e.indexOf("#");if(l>-1){let r=o.includes(e.slice(l))?e.slice(l).length:1,u=o.slice(r);return u[0]!=="/"&&(u="/"+u),rt(u,"")}return rt(n,e)+s+o}function zn(e,t,n,s){let o=[],l=[],r=null;const u=({state:h})=>{const f=Ft(e,location),C=n.value,E=t.value;let I=0;if(h){if(n.value=f,t.value=h,r&&r===C){r=null;return}I=E?h.position-E.position:0}else s(f);o.forEach(y=>{y(n.value,C,{delta:I,type:Ue.pop,direction:I?I>0?Ve.forward:Ve.back:Ve.unknown})})};function a(){r=n.value}function i(h){o.push(h);const f=()=>{const C=o.indexOf(h);C>-1&&o.splice(C,1)};return l.push(f),f}function m(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(P({},h.state,{scroll:Ae()}),"")}}function d(){for(const h of l)h();l=[],window.removeEventListener("popstate",u),window.removeEventListener("pagehide",m),document.removeEventListener("visibilitychange",m)}return window.addEventListener("popstate",u),window.addEventListener("pagehide",m),document.addEventListener("visibilitychange",m),{pauseListeners:a,listen:i,destroy:d}}function ct(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?Ae():null}}function Kn(e){const{history:t,location:n}=window,s={value:Ft(e,n)},o={value:t.state};o.value||l(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(a,i,m){const d=e.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+a:Wn()+e+a;try{t[m?"replaceState":"pushState"](i,"",h),o.value=i}catch(f){console.error(f),n[m?"replace":"assign"](h)}}function r(a,i){l(a,P({},t.state,ct(o.value.back,a,o.value.forward,!0),i,{position:o.value.position}),!0),s.value=a}function u(a,i){const m=P({},o.value,t.state,{forward:a,scroll:Ae()});l(m.current,m,!0),l(a,P({},ct(s.value,a,null),{position:m.position+1},i),!1),s.value=a}return{location:s,state:o,push:u,replace:r}}function Qn(e){e=Pn(e);const t=Kn(e),n=zn(e,t.state,t.location,t.replace);function s(l,r=!0){r||n.pauseListeners(),history.go(l)}const o=P({location:"",base:e,go:s,createHref:Ln.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}let oe=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var V=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(V||{});const Xn={type:oe.Static,value:""},Jn=/[a-zA-Z0-9_]/;function Yn(e){if(!e)return[[]];if(e==="/")return[[Xn]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${i}": ${f}`)}let n=V.Static,s=n;const o=[];let l;function r(){l&&o.push(l),l=[]}let u=0,a,i="",m="";function d(){i&&(n===V.Static?l.push({type:oe.Static,value:i}):n===V.Param||n===V.ParamRegExp||n===V.ParamRegExpEnd?(l.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${i}) must be alone in its segment. eg: '/:ids+.`),l.push({type:oe.Param,value:i,regexp:m,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),i="")}function h(){i+=a}for(;u<e.length;){if(a=e[u++],a==="\\"&&n!==V.ParamRegExp){s=n,n=V.EscapeNext;continue}switch(n){case V.Static:a==="/"?(i&&d(),r()):a===":"?(d(),n=V.Param):h();break;case V.EscapeNext:h(),n=s;break;case V.Param:a==="("?n=V.ParamRegExp:Jn.test(a)?h():(d(),n=V.Static,a!=="*"&&a!=="?"&&a!=="+"&&u--);break;case V.ParamRegExp:a===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+a:n=V.ParamRegExpEnd:m+=a;break;case V.ParamRegExpEnd:d(),n=V.Static,a!=="*"&&a!=="?"&&a!=="+"&&u--,m="";break;default:t("Unknown state");break}}return n===V.ParamRegExp&&t(`Unfinished custom RegExp for param "${i}"`),d(),r(),o}const dt="[^/]+?",Zn={sensitive:!1,strict:!1,start:!0,end:!0};var B=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(B||{});const es=/[.+*?^${}()[\]/\\]/g;function ts(e,t){const n=P({},Zn,t),s=[];let o=n.start?"^":"";const l=[];for(const i of e){const m=i.length?[]:[B.Root];n.strict&&!i.length&&(o+="/");for(let d=0;d<i.length;d++){const h=i[d];let f=B.Segment+(n.sensitive?B.BonusCaseSensitive:0);if(h.type===oe.Static)d||(o+="/"),o+=h.value.replace(es,"\\$&"),f+=B.Static;else if(h.type===oe.Param){const{value:C,repeatable:E,optional:I,regexp:y}=h;l.push({name:C,repeatable:E,optional:I});const w=y||dt;if(w!==dt){f+=B.BonusCustomRegExp;try{`${w}`}catch(O){throw new Error(`Invalid custom RegExp for param "${C}" (${w}): `+O.message)}}let g=E?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;d||(g=I&&i.length<2?`(?:/${g})`:"/"+g),I&&(g+="?"),o+=g,f+=B.Dynamic,I&&(f+=B.BonusOptional),E&&(f+=B.BonusRepeatable),w===".*"&&(f+=B.BonusWildcard)}m.push(f)}s.push(m)}if(n.strict&&n.end){const i=s.length-1;s[i][s[i].length-1]+=B.BonusStrict}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const r=new RegExp(o,n.sensitive?"":"i");function u(i){const m=i.match(r),d={};if(!m)return null;for(let h=1;h<m.length;h++){const f=m[h]||"",C=l[h-1];d[C.name]=f&&C.repeatable?f.split("/"):f}return d}function a(i){let m="",d=!1;for(const h of e){(!d||!m.endsWith("/"))&&(m+="/"),d=!1;for(const f of h)if(f.type===oe.Static)m+=f.value;else if(f.type===oe.Param){const{value:C,repeatable:E,optional:I}=f,y=C in i?i[C]:"";if(z(y)&&!E)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const w=z(y)?y.join("/"):y;if(!w)if(I)h.length<2&&(m.endsWith("/")?m=m.slice(0,-1):d=!0);else throw new Error(`Missing required param "${C}"`);m+=w}}return m||"/"}return{re:r,score:s,keys:l,parse:u,stringify:a}}function ns(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===B.Static+B.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===B.Static+B.Segment?1:-1:0}function Vt(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const l=ns(s[n],o[n]);if(l)return l;n++}if(Math.abs(o.length-s.length)===1){if(ft(s))return 1;if(ft(o))return-1}return o.length-s.length}function ft(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ss={strict:!1,end:!0,sensitive:!1};function os(e,t,n){const s=ts(Yn(e.path),n),o=P(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function rs(e,t){const n=[],s=new Map;t=ot(ss,t);function o(d){return s.get(d)}function l(d,h,f){const C=!f,E=mt(d);E.aliasOf=f&&f.record;const I=ot(t,d),y=[E];if("alias"in d){const O=typeof d.alias=="string"?[d.alias]:d.alias;for(const R of O)y.push(mt(P({},E,{components:f?f.record.components:E.components,path:R,aliasOf:f?f.record:E})))}let w,g;for(const O of y){const{path:R}=O;if(h&&R[0]!=="/"){const $=h.record.path,U=$[$.length-1]==="/"?"":"/";O.path=h.record.path+(R&&U+R)}if(w=os(O,h,I),f?f.alias.push(w):(g=g||w,g!==w&&g.alias.push(w),C&&d.name&&!ht(w)&&r(d.name)),Gt(w)&&a(w),E.children){const $=E.children;for(let U=0;U<$.length;U++)l($[U],w,f&&f.children[U])}f=f||w}return g?()=>{r(g)}:ve}function r(d){if(Tt(d)){const h=s.get(d);h&&(s.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(r),h.alias.forEach(r))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&s.delete(d.record.name),d.children.forEach(r),d.alias.forEach(r))}}function u(){return n}function a(d){const h=is(d,n);n.splice(h,0,d),d.record.name&&!ht(d)&&s.set(d.record.name,d)}function i(d,h){let f,C={},E,I;if("name"in d&&d.name){if(f=s.get(d.name),!f)throw ce(T.MATCHER_NOT_FOUND,{location:d});I=f.record.name,C=P(pt(h.params,f.keys.filter(g=>!g.optional).concat(f.parent?f.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),d.params&&pt(d.params,f.keys.map(g=>g.name))),E=f.stringify(C)}else if(d.path!=null)E=d.path,f=n.find(g=>g.re.test(E)),f&&(C=f.parse(E),I=f.record.name);else{if(f=h.name?s.get(h.name):n.find(g=>g.re.test(h.path)),!f)throw ce(T.MATCHER_NOT_FOUND,{location:d,currentLocation:h});I=f.record.name,C=P({},h.params,d.params),E=f.stringify(C)}const y=[];let w=f;for(;w;)y.unshift(w.record),w=w.parent;return{name:I,path:E,params:C,matched:y,meta:ls(y)}}e.forEach(d=>l(d));function m(){n.length=0,s.clear()}return{addRoute:l,resolve:i,removeRoute:r,clearRoutes:m,getRoutes:u,getRecordMatcher:o}}function pt(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function mt(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:as(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function as(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function ht(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ls(e){return e.reduce((t,n)=>P(t,n.meta),{})}function is(e,t){let n=0,s=t.length;for(;n!==s;){const l=n+s>>1;Vt(e,t[l])<0?s=l:n=l+1}const o=us(e);return o&&(s=t.lastIndexOf(o,s-1)),s}function us(e){let t=e;for(;t=t.parent;)if(Gt(t)&&Vt(e,t)===0)return t}function Gt({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function gt(e){const t=te(Ne),n=te(Je),s=K(()=>{const a=x(e.to);return t.resolve(a)}),o=K(()=>{const{matched:a}=s.value,{length:i}=a,m=a[i-1],d=n.matched;if(!m||!d.length)return-1;const h=d.findIndex(ue.bind(null,m));if(h>-1)return h;const f=vt(a[i-2]);return i>1&&vt(m)===f&&d[d.length-1].path!==f?d.findIndex(ue.bind(null,a[i-2])):h}),l=K(()=>o.value>-1&&ps(n.params,s.value.params)),r=K(()=>o.value>-1&&o.value===n.matched.length-1&&Lt(n.params,s.value.params));function u(a={}){if(fs(a)){const i=t[x(e.replace)?"replace":"push"](x(e.to)).catch(ve);return e.viewTransition&&typeof document!="undefined"&&"startViewTransition"in document&&document.startViewTransition(()=>i),i}return Promise.resolve()}return{route:s,href:K(()=>s.value.href),isActive:l,isExactActive:r,navigate:u}}function cs(e){return e.length===1?e[0]:e}const ds=X({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:gt,setup(e,{slots:t}){const n=Xt(gt(e)),{options:s}=te(Ne),o=K(()=>({[xt(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[xt(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const l=t.default&&cs(t.default(n));return e.custom?l:bt("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},l)}}}),se=ds;function fs(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ps(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!z(o)||o.length!==s.length||s.some((l,r)=>l.valueOf()!==o[r].valueOf()))return!1}return!0}function vt(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const xt=(e,t,n)=>e!=null?e:t!=null?t:n,ms=X({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=te(He),o=K(()=>e.route||s.value),l=te(ut,0),r=K(()=>{let i=x(l);const{matched:m}=o.value;let d;for(;(d=m[i])&&!d.components;)i++;return i}),u=K(()=>o.value.matched[r.value]);Me(ut,K(()=>r.value+1)),Me(Dt,u),Me(He,o);const a=G();return Jt(()=>[a.value,u.value,e.name],([i,m,d],[h,f,C])=>{m&&(m.instances[d]=i,f&&f!==m&&i&&i===h&&(m.leaveGuards.size||(m.leaveGuards=f.leaveGuards),m.updateGuards.size||(m.updateGuards=f.updateGuards))),i&&m&&(!f||!ue(m,f)||!h)&&(m.enterCallbacks[d]||[]).forEach(E=>E(i))},{flush:"post"}),()=>{const i=o.value,m=e.name,d=u.value,h=d&&d.components[m];if(!h)return _t(n.default,{Component:h,route:i});const f=d.props[m],C=f?f===!0?i.params:typeof f=="function"?f(i):f:null,I=bt(h,P({},C,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[m]=null)},ref:a}));return _t(n.default,{Component:I,route:i})||I}}});function _t(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const $t=ms;function hs(e){const t=rs(e.routes,e),n=e.parseQuery||Bn,s=e.stringifyQuery||it,o=e.history,l=ge(),r=ge(),u=ge(),a=ke(Z);let i=Z;le&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=De.bind(null,c=>""+c),d=De.bind(null,En),h=De.bind(null,we);function f(c,_){let v,b;return Tt(c)?(v=t.getRecordMatcher(c),b=_):b=c,t.addRoute(b,v)}function C(c){const _=t.getRecordMatcher(c);_&&t.removeRoute(_)}function E(){return t.getRoutes().map(c=>c.record)}function I(c){return!!t.getRecordMatcher(c)}function y(c,_){if(_=P({},_||a.value),typeof c=="string"){const k=Fe(n,c,_.path),F=t.resolve({path:k.path},_),he=o.createHref(k.fullPath);return P(k,F,{params:h(F.params),hash:we(k.hash),redirectedFrom:void 0,href:he})}let v;if(c.path!=null)v=P({},c,{path:Fe(n,c.path,_.path).path});else{const k=P({},c.params);for(const F in k)k[F]==null&&delete k[F];v=P({},c,{params:d(k)}),_.params=d(_.params)}const b=t.resolve(v,_),S=c.hash||"";b.params=m(h(b.params));const M=An(s,P({},c,{hash:bn(S),path:b.path})),A=o.createHref(M);return P({fullPath:M,hash:S,query:s===it?Un(c.query):c.query||{}},b,{redirectedFrom:void 0,href:A})}function w(c){return typeof c=="string"?Fe(n,c,a.value.path):P({},c)}function g(c,_){if(i!==c)return ce(T.NAVIGATION_CANCELLED,{from:_,to:c})}function O(c){return U(c)}function R(c){return O(P(w(c),{replace:!0}))}function $(c,_){const v=c.matched[c.matched.length-1];if(v&&v.redirect){const{redirect:b}=v;let S=typeof b=="function"?b(c,_):b;return typeof S=="string"&&(S=S.includes("?")||S.includes("#")?S=w(S):{path:S},S.params={}),P({query:c.query,hash:c.hash,params:S.path!=null?{}:c.params},S)}}function U(c,_){const v=i=y(c),b=a.value,S=c.state,M=c.force,A=c.replace===!0,k=$(v,b);if(k)return U(P(w(k),{state:typeof k=="object"?P({},S,k.state):S,force:M,replace:A}),_||v);const F=v;F.redirectedFrom=_;let he;return!M&&Nn(s,b,v)&&(he=ce(T.NAVIGATION_DUPLICATED,{to:F,from:b}),nt(b,b,!0,!1)),(he?Promise.resolve(he):Ye(F,b)).catch(q=>J(q)?J(q,T.NAVIGATION_GUARD_REDIRECT)?q:Ie(q):Pe(q,F,b)).then(q=>{if(q){if(J(q,T.NAVIGATION_GUARD_REDIRECT))return U(P({replace:A},w(q.to),{state:typeof q.to=="object"?P({},S,q.to.state):S,force:M}),_||F)}else q=et(F,b,!0,A,S);return Ze(F,b,q),q})}function Ut(c,_){const v=g(c,_);return v?Promise.reject(v):Promise.resolve()}function Se(c){const _=Ce.values().next().value;return _&&typeof _.runWithContext=="function"?_.runWithContext(c):c()}function Ye(c,_){let v;const[b,S,M]=jn(c,_);v=Ge(b.reverse(),"beforeRouteLeave",c,_);for(const k of b)k.leaveGuards.forEach(F=>{v.push(ee(F,c,_))});const A=Ut.bind(null,c,_);return v.push(A),re(v).then(()=>{v=[];for(const k of l.list())v.push(ee(k,c,_));return v.push(A),re(v)}).then(()=>{v=Ge(S,"beforeRouteUpdate",c,_);for(const k of S)k.updateGuards.forEach(F=>{v.push(ee(F,c,_))});return v.push(A),re(v)}).then(()=>{v=[];for(const k of M)if(k.beforeEnter)if(z(k.beforeEnter))for(const F of k.beforeEnter)v.push(ee(F,c,_));else v.push(ee(k.beforeEnter,c,_));return v.push(A),re(v)}).then(()=>(c.matched.forEach(k=>k.enterCallbacks={}),v=Ge(M,"beforeRouteEnter",c,_,Se),v.push(A),re(v))).then(()=>{v=[];for(const k of r.list())v.push(ee(k,c,_));return v.push(A),re(v)}).catch(k=>J(k,T.NAVIGATION_CANCELLED)?k:Promise.reject(k))}function Ze(c,_,v){u.list().forEach(b=>Se(()=>b(c,_,v)))}function et(c,_,v,b,S){const M=g(c,_);if(M)return M;const A=_===Z,k=le?history.state:{};v&&(b||A?o.replace(c.fullPath,P({scroll:A&&k&&k.scroll},S)):o.push(c.fullPath,S)),a.value=c,nt(c,_,v,A),Ie()}let pe;function qt(){pe||(pe=o.listen((c,_,v)=>{if(!me.listening)return;const b=y(c),S=$(b,me.currentRoute.value);if(S){U(P(S,{replace:!0,force:!0}),b).catch(ve);return}i=b;const M=a.value;le&&Dn(lt(M.fullPath,v.delta),Ae()),Ye(b,M).catch(A=>J(A,T.NAVIGATION_ABORTED|T.NAVIGATION_CANCELLED)?A:J(A,T.NAVIGATION_GUARD_REDIRECT)?(U(P(w(A.to),{force:!0}),b).then(k=>{J(k,T.NAVIGATION_ABORTED|T.NAVIGATION_DUPLICATED)&&!v.delta&&v.type===Ue.pop&&o.go(-1,!1)}).catch(ve),Promise.reject()):(v.delta&&o.go(-v.delta,!1),Pe(A,b,M))).then(A=>{A=A||et(b,M,!1),A&&(v.delta&&!J(A,T.NAVIGATION_CANCELLED)?o.go(-v.delta,!1):v.type===Ue.pop&&J(A,T.NAVIGATION_ABORTED|T.NAVIGATION_DUPLICATED)&&o.go(-1,!1)),Ze(b,M,A)}).catch(ve)}))}let Oe=ge(),tt=ge(),ye;function Pe(c,_,v){Ie(c);const b=tt.list();return b.length?b.forEach(S=>S(c,_,v)):console.error(c),Promise.reject(c)}function Ht(){return ye&&a.value!==Z?Promise.resolve():new Promise((c,_)=>{Oe.add([c,_])})}function Ie(c){return ye||(ye=!c,qt(),Oe.list().forEach(([_,v])=>c?v(c):_()),Oe.reset()),c}function nt(c,_,v,b){const{scrollBehavior:S}=e;if(!le||!S)return Promise.resolve();const M=!v&&Fn(lt(c.fullPath,0))||(b||!v)&&history.state&&history.state.scroll||null;return Yt().then(()=>S(c,_,M)).then(A=>A&&Mn(A)).catch(A=>Pe(A,c,_))}const Le=c=>o.go(c);let Te;const Ce=new Set,me={currentRoute:a,listening:!0,addRoute:f,removeRoute:C,clearRoutes:t.clearRoutes,hasRoute:I,getRoutes:E,resolve:y,options:e,push:O,replace:R,go:Le,back:()=>Le(-1),forward:()=>Le(1),beforeEach:l.add,beforeResolve:r.add,afterEach:u.add,onError:tt.add,isReady:Ht,install(c){c.component("RouterLink",se),c.component("RouterView",$t),c.config.globalProperties.$router=me,Object.defineProperty(c.config.globalProperties,"$route",{enumerable:!0,get:()=>x(a)}),le&&!Te&&a.value===Z&&(Te=!0,O(o.location).catch(b=>{}));const _={};for(const b in Z)Object.defineProperty(_,b,{get:()=>a.value[b],enumerable:!0});c.provide(Ne,me),c.provide(Je,Qt(_)),c.provide(He,a);const v=c.unmount;Ce.add(c),c.unmount=function(){Ce.delete(c),Ce.size<1&&(i=Z,pe&&pe(),pe=null,a.value=Z,Te=!1,ye=!1),v()}}};function re(c){return c.reduce((_,v)=>_.then(()=>Se(v)),Promise.resolve())}return me}function gs(){return te(Ne)}function vs(e){return te(Je)}const Bt=Ke("feed",()=>{const e=G([]),t=(r=null)=>"/feed/"+(r&&r.id?r.id+"/":""),n=r=>Qe(r,e,u=>r.id&&u.id?r.id==u.id:r.url==u.url);return{feeds:e,loadFeeds:()=>j(de,null,function*(){return(yield Rt(t())).forEach(n)}),removeFeed:r=>Et(r,e,t(r),u=>r.id&&u.id?u.id==r.id:r.url==u.url),saveFeed:r=>on(r,e,t(r),u=>r.id&&u.id?u.id==r.id:r.url==u.url)}}),xs={class:"flex-1 lg:flex-2 my-3 mx-3 md:ml-3 px-4 py-3.5 bg-white min-h-screen shadow-[0px_0px_5px_-2px_#000] dark:bg-gray-800 dark:text-white"},_s={class:"mt-3"},ws=["textContent"],bs=["placeholder"],ys={class:"mt-2"},Cs=["textContent"],Es=["placeholder"],Rs={class:"mt-6"},ks=["textContent"],As=X({__name:"FeedForm",props:{modelValue:{required:!0},modelModifiers:{}},emits:yt(["cancel","submit"],["update:modelValue"]),setup(e,{emit:t}){const{t:n}=fe(),s=Ct(e,"modelValue"),o=t,l=G(s.value.title),r=G(s.value.url),u=()=>{s.value.title=l.value.trim(),s.value.url=r.value.trim(),o("submit")};return(a,i)=>(L(),D("div",xs,[p("form",{name:"feedForm",onSubmit:W(u,["prevent"])},[p("p",null,[p("button",{type:"button",onClick:i[0]||(i[0]=m=>o("cancel")),class:"action-button hover:bg-gray-300",ref:"cancel-btn"},i[4]||(i[4]=[p("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-arrow-left dark:invert-100 dark:hover:invert-0"},null,-1)]),512)]),p("p",_s,[p("label",{for:"id_title",textContent:N(x(n)("message.name"))},null,8,ws),ie(p("input",{id:"id_title",name:"title",type:"text","onUpdate:modelValue":i[1]||(i[1]=m=>l.value=m),placeholder:x(n)("message.feed_title_placeholder"),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,8,bs),[[xe,l.value]])]),p("p",ys,[p("label",{for:"id_url",textContent:N(x(n)("message.url"))},null,8,Cs),ie(p("input",{id:"id_url",name:"url",type:"url","onUpdate:modelValue":i[2]||(i[2]=m=>r.value=m),placeholder:x(n)("message.feed_url_placeholder"),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,8,Es),[[xe,r.value]])]),p("p",Rs,[p("button",{type:"submit",onClick:i[3]||(i[3]=W(m=>u(),["stop"])),textContent:N(x(n)("message.save")),ref:"submit-btn",class:"bg-green-700 hover:bg-green-600 text-white transition-colors duration-200 hover:cursor-pointer font-bold py-3 px-6 rounded-lg min-w-xs sm:min-w-sm"},null,8,ks)])],32)]))}}),Ns={class:"flex flex-row w-full max-w-screen-xl"},Ss={key:0,class:"flex-1 md:-ml-6 md:pl-6"},Os=["onClick"],Ps={class:"flex-1 break-all"},Is={class:"font-semibold flex flex-row justify-between items-start gap-2"},Ls=["textContent"],Ts=["textContent"],Ms=["onClick"],Ds=640,Fs=X({__name:"FeedList",setup(e){const{width:t}=je(),n=Bt(),s=ke(null);function o(){return j(this,null,function*(){s.value={title:"",url:""}})}function l(){return j(this,null,function*(){const r=s.value;s.value=null,yield n.saveFeed(r)})}return n.loadFeeds(),(r,u)=>(L(),D("div",Ns,[(!s.value||x(t)>=Ds)&&x(n).feeds.length?(L(),D("div",Ss,[(L(!0),D(We,null,ze(x(n).feeds,a=>(L(),D("div",{key:a.id,onClick:i=>s.value=a,class:Y([{"!shadow-lg !scale-[102%]":s.value&&a.id===s.value.id},"flex flex-row items-center my-3 p-3 shadow-black shadow-xs bg-white hover:shadow-md hover:scale-[101%] dark:bg-gray-800 dark:text-white duration-200 cursor-pointer"])},[p("div",Ps,[p("h2",Is,[p("span",{textContent:N(a.title),class:"text-lg flex-1"},null,8,Ls)]),p("p",{class:"flex flex-row gap-1 items-center",textContent:N(a.url)},null,8,Ts)]),p("button",{type:"button",onClick:W(i=>x(n).removeFeed(a),["stop"]),class:"action-button hover:bg-red-700 hover:!border-red-700 group ml-auto",ref_for:!0,ref:"delete-btn"},u[3]||(u[3]=[p("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-trash dark:invert-100 group-hover:invert-100"},null,-1)]),8,Ms)],10,Os))),128))])):Q("",!0),s.value?(L(),_e(As,{key:s.value.id||"new",modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=a=>s.value=a),onCancel:u[1]||(u[1]=a=>s.value=null),onSubmit:u[2]||(u[2]=a=>l())},null,8,["modelValue"])):Q("",!0),s.value?Q("",!0):(L(),_e(kt,{key:2,"add-item":o}))]))}}),Vs=Ke("filter",()=>{const e=G([]),t=(r=null)=>"/filter/"+(r&&r.id?r.id+"/":""),n=()=>j(de,null,function*(){return(yield Rt(t())).forEach(s)}),s=r=>Qe(r,e,u=>r.id&&u.id?r.id==u.id:r.entry==u.entry&&r.part==u.part&&r.feed_id==u.feed_id),o=r=>Et(r,e,t(r),u=>r.id&&u.id?r.id==u.id:r.entry==u.entry&&r.part==u.part&&r.feed_id==u.feed_id);function l(r){return j(this,null,function*(){r.id||(r.entry=r.entry.toLowerCase(),e.value.unshift(r));try{s(yield rn(r,"post",t(r)))}catch(u){r.id||e.value.splice(0,1)}})}return{filters:e,loadFilters:n,removeFilter:o,saveFilter:l}}),Gs={class:"flex-1 lg:flex-2 my-3 mx-3 md:!ml-0 px-4 py-3.5 bg-white min-h-screen shadow-[0px_0px_5px_-2px_#000] dark:bg-gray-800 dark:text-white"},$s={class:"mt-3"},Bs=["textContent"],Us=["placeholder"],qs={class:"mt-2"},Hs=["textContent"],js=["textContent"],Ws=["textContent"],zs=["textContent"],Ks=["textContent"],Qs={class:"mt-6"},Xs=["textContent"],Js=X({__name:"FilterForm",props:{modelValue:{required:!0},modelModifiers:{}},emits:yt(["cancel","submit"],["update:modelValue"]),setup(e,{emit:t}){const{t:n}=fe(),s=Ct(e,"modelValue"),o=t,l=G(s.value.entry),r=G(s.value.part),u=()=>{s.value.entry=l.value.trim(),s.value.part=r.value.trim(),o("submit")};return(a,i)=>(L(),D("div",Gs,[p("form",{name:"filterForm",onSubmit:W(u,["prevent"])},[p("p",null,[p("button",{type:"button",onClick:i[0]||(i[0]=m=>o("cancel")),class:"action-button hover:bg-gray-300",ref:"cancel-btn"},i[4]||(i[4]=[p("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-arrow-left dark:invert-100 dark:hover:invert-0"},null,-1)]),512)]),p("p",$s,[p("label",{for:"id_entry",textContent:N(x(n)("message.word"))},null,8,Bs),ie(p("input",{id:"id_entry",name:"entry",type:"text","onUpdate:modelValue":i[1]||(i[1]=m=>l.value=m),placeholder:x(n)("message.filter_entry_placeholder"),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,8,Us),[[xe,l.value]])]),p("p",qs,[p("label",{for:"id_part",textContent:N(x(n)("message.part_of_word"))},null,8,Hs),ie(p("select",{id:"id_part",name:"part","onUpdate:modelValue":i[2]||(i[2]=m=>r.value=m),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},[p("option",{value:"start",textContent:N(x(n)("message.word_start"))},null,8,js),p("option",{value:"end",textContent:N(x(n)("message.word_end"))},null,8,Ws),p("option",{value:"full",textContent:N(x(n)("message.word_full"))},null,8,zs),p("option",{value:"part",textContent:N(x(n)("message.word_part"))},null,8,Ks)],512),[[Zt,r.value]])]),p("p",Qs,[p("button",{type:"submit",onClick:i[3]||(i[3]=W(m=>u(),["stop"])),textContent:N(x(n)("message.save")),ref:"submit-btn",class:"bg-green-700 hover:bg-green-600 text-white transition-colors duration-200 hover:cursor-pointer font-bold py-3 px-6 rounded-lg min-w-xs sm:min-w-sm"},null,8,Xs)])],32)]))}}),Ys={class:"flex flex-row w-full max-w-screen-xl"},Zs={key:0,class:"flex-1 md:-ml-6 md:pl-6"},eo=["onClick"],to={class:"flex-1"},no={class:"font-semibold flex flex-row justify-between items-start gap-2"},so=["textContent"],oo=["textContent"],ro=["textContent"],ao=["onClick"],lo=768,io=X({__name:"FilterList",setup(e){const{width:t}=je(),n=Vs(),s=ke(null),{t:o}=fe();function l(){return j(this,null,function*(){s.value={entry:"",part:"start"}})}function r(){return j(this,null,function*(){const u=s.value;s.value=null,yield n.saveFilter(u)})}return n.loadFilters(),(u,a)=>(L(),D("div",Ys,[(!s.value||x(t)>=lo)&&x(n).filters.length?(L(),D("div",Zs,[(L(!0),D(We,null,ze(x(n).filters,i=>(L(),D("div",{key:i.id,onClick:m=>s.value=i,class:Y([{"!shadow-lg !scale-[102%]":s.value&&i.id===s.value.id},"flex flex-row items-center my-3 p-3 md:mx-4 shadow-black shadow-xs bg-white hover:shadow-md hover:scale-[101%] dark:bg-gray-800 dark:text-white duration-200 cursor-pointer break-words"])},[p("div",to,[p("h2",no,[p("span",{textContent:N(i.entry),class:"text-lg flex-1"},null,8,so)]),i.part?(L(),D("p",{key:0,class:"flex flex-row gap-1 items-center",textContent:N(x(o)("message.word_"+i.part))},null,8,oo)):Q("",!0),i.feed_id?(L(),D("p",{key:1,class:"flex flex-row gap-1 items-center",textContent:N(i.feed_id)},null,8,ro)):Q("",!0)]),p("button",{type:"button",onClick:W(m=>x(n).removeFilter(i),["stop"]),class:"action-button hover:bg-red-700 hover:!border-red-700 group ml-auto",ref_for:!0,ref:"delete-btn"},a[3]||(a[3]=[p("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-trash group-hover:invert-100"},null,-1)]),8,ao)],10,eo))),128))])):Q("",!0),s.value?(L(),_e(Js,{key:s.value.id||"new",modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=i=>s.value=i),onCancel:a[1]||(a[1]=i=>s.value=null),onSubmit:a[2]||(a[2]=i=>r())},null,8,["modelValue"])):Q("",!0),s.value?Q("",!0):(L(),_e(kt,{key:2,"add-item":l}))]))}});let Re=null,wt=null;const uo=6e5,co=(e,t)=>{const n=JSON.parse(t.data);n.id=="meta"?be().refreshNewsMeta(n):be().refreshNews(n)},fo=()=>{clearTimeout(wt),wt=setTimeout(po,uo)},$e=()=>j(de,null,function*(){return fo(),Re=yield an(Re,"/news/",co),Re}),po=()=>ln(Re),mo=3e5,be=Ke("news",()=>{const e=G([]),t=G({id:"meta",unread:0,reading:0});let n,s=4;const o=f=>{f.description&&f.description.trim()&&(f.description=new DOMParser().parseFromString(f.description,"text/html").body.textContent||""),Qe(f,e,C=>C.id==f.id,!0)},l=()=>j(de,null,function*(){return(yield $e()).send(JSON.stringify(n&&n.request?n:{request:"unread"}))}),r=f=>t.value=f;function u(f,C=!1){return j(this,null,function*(){try{(yield $e()).send(JSON.stringify({request:C?"bookmark":"hide",id:f.id}));const E=e.value.findIndex(I=>I.id==f.id);E>=0&&(e.value.splice(E,1),n&&(n.request=="unread"||n.request=="reading")&&(t.value[n.request]-=t.value[n.request]>0?1:0)),e.value.length<=s&&(yield l())}catch(E){console.error(E)}})}const a=G(!1),i=()=>j(de,null,function*(){a.value?yield l():((yield $e()).send(JSON.stringify({request:"fetch"})),a.value=!0,setInterval(()=>a.value=!1,mo))}),m=f=>{n=f},d=()=>{e.value=[]},h=()=>{try{const f=localStorage.getItem("newsPreferences");f&&(s=JSON.parse(f).newsListLengthForAutoLoad||4)}catch(f){}};return h(),{news:e,loadNews:l,refreshNews:o,markNews:u,fetchMoreNews:i,setQuery:m,dropNews:d,fetchingMoreNews:a,refreshNewsMeta:r,newsMeta:t,loadPreferences:h}}),ho={class:"flex flex-col items-center xl:max-w-screen-xl overflow-x-clip xl:[overflow-clip-margin:3px]"},go=["href","onTouchstart","onTouchend","onTouchmove","onMousedown","onMousemove","onMouseup","onClick"],vo={class:"flex flex-col gap-3 md:gap-4 lg:gap-5 sm:flex-row"},xo={class:"flex flex-col gap-1 sm:gap-2 flex-1 wrap-break-word"},_o={class:"font-semibold flex flex-row justify-between items-start gap-2"},wo=["textContent"],bo=["innerHTML"],yo={key:0,class:"mx-auto action-button sm:!hidden bg-white dark:bg-gray-800 !py-0 -mt-5 group"},Co={class:"hidden sm:flex sm:flex-row"},Eo=["textContent"],Ro=["textContent"],ko={class:"flex flex-row sm:flex-col sm:hidden"},Ao=["textContent"],No=["textContent"],So={class:"flex flex-row sm:flex-col justify-center sm:justify-end items-center gap-3"},Oo=["onClick"],Po=["onClick"],Io=["textContent"],Lo=640,Ee=X({__name:"NewsList",props:en({request:{},id:{}},{request:"unread"}),setup(e){const t=e,{t:n}=fe(),s=be();s.setQuery(t);const o=Bt(),l=ke([]),r=G(""),u=G([]),{width:a}=je();Hn((y,w)=>{s.dropNews()});const i=y=>{const w=o.feeds.find(g=>g.id==y);return w?w.title||w.url:""},m=G(0);let d=!1;const h=(y,w,g)=>{const O="changedTouches"in g?g.changedTouches[0].clientX:g.screenX;m.value=O},f=(y,w,g)=>{if(m.value<=0)return;const O="changedTouches"in g?g.changedTouches[0].clientX:g.screenX,R=Math.abs(O)-Math.abs(m.value),$=R>0?"right":"left";if(!d&&Math.abs(R)>20&&(d=!0),r.value!=$&&(r.value=$),Math.abs(R)>20){const U=l.value[w];U.style.left=R.toString()+"px"}},C=(y,w=!1)=>{setTimeout(()=>{const g=u.value.indexOf(y.id);g>=0&&u.value.splice(g,1),s.markNews(y,w)},400)},E=(y,w,g,O=null)=>{const R=l.value[w];let $=R.clientWidth||100;O||(r.value="",$=Math.abs("changedTouches"in g?g.changedTouches[0].clientX:g.screenX)-Math.abs(m.value),m.value=0,setTimeout(()=>d=!1,100),O=$>0?"right":"left"),Math.abs($)/R.clientWidth>.25?O=="left"?(C(y),R.style.left="-"+(R.clientWidth*2).toString()+"px"):O=="right"&&(C(y,!0),R.style.left=(R.clientWidth*2).toString()+"px"):R.style.left="0"},I=(y,w,g)=>{if(d){g.preventDefault(),g.stopPropagation();return}if(a.value<Lo&&y.description&&y.description.length>128&&u.value.indexOf(y.id)<0){u.value.push(y.id),g.preventDefault(),g.stopPropagation();return}};return s.loadNews(),o.feeds.length||o.loadFeeds(),(y,w)=>(L(),D("div",ho,[(L(!0),D(We,null,ze(x(s).news,(g,O)=>(L(),D("div",{key:g.id,class:Y(["flex w-full overflow-x-clip xl:[overflow-clip-margin:3px] relative gap-3 my-3 bg-gray-200",{"bg-green-700":r.value=="right"}])},[p("span",{class:Y(["absolute opacity-0 top-0 right-5 w-[50px] h-[100%] duration-500 bg-no-repeat bg-center bg-contain svg-eye-slash",{"opacity-100 !duration-[0ms]":r.value=="left"}])},null,2),p("span",{class:Y(["absolute opacity-0 top-0 left-5 w-[50px] h-[100%] duration-500 bg-no-repeat bg-center bg-contain svg-bookmark invert-100",{"opacity-100 !duration-[0ms]":r.value=="right"}])},null,2),p("a",{href:g.link,target:"_blank",ref_for:!0,ref_key:"newsElements",ref:l,onTouchstart:R=>h(g,O,R),onTouchend:R=>E(g,O,R),onTouchmove:R=>f(g,O,R),onMousedown:W(R=>h(g,O,R),["prevent"]),onMousemove:W(R=>f(g,O,R),["prevent"]),onMouseup:W(R=>E(g,O,R),["prevent"]),onClick:R=>I(g,O,R),class:Y([{"transition-all duration-500 ease-linear":!r.value},"relative p-3 size-full shadow-black shadow-xs bg-white dark:bg-gray-800 dark:text-white cursor-pointer"])},[p("span",vo,[p("span",xo,[p("span",_o,[p("span",{textContent:N(g.title),class:"text-lg"},null,8,wo)]),p("span",{innerHTML:g.description,class:Y(["text-md flex-1 max-h-6 sm:!max-h-[60vh] overflow-y-hidden duration-300",{"max-h-[60vh]":g.description&&g.description.length<=128||u.value.indexOf(g.id)>=0}])},null,10,bo),g.description&&g.description.length>128&&u.value.indexOf(g.id)<0?(L(),D("span",yo,w[1]||(w[1]=[p("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-chevron-down group-hover:invert-100 dark:invert-100"},null,-1)]))):Q("",!0),p("span",Co,[p("span",{textContent:N(i(g.feed)),class:"flex-1"},null,8,Eo),p("span",{textContent:N(g.published?x(n)("message.published")+" "+x(st)(g.published).fromNow():"")},null,8,Ro)])]),p("span",{class:Y(["flex flex-col gap-2 sm:order-first min-w-[30%] lg:min-w-[310px] min-h-[200px] sm:min-h-auto md:min-h-[150px] lg:min-h-[150px]",{"min-h-auto sm:hidden":!g.enclosure_url}])},[g.enclosure_url?(L(),D("span",{key:0,class:"flex flex-1 w-full bg-cover bg-center bg-no-repeat",style:tn({"background-image":"url('"+g.enclosure_url+"')"})},null,4)):Q("",!0),p("span",ko,[p("span",{textContent:N(i(g.feed)),class:"flex-1"},null,8,Ao),p("span",{textContent:N(g.published?x(n)("message.published")+" "+x(st)(g.published).fromNow():"")},null,8,No)])],2),p("span",So,[p("span",{onClick:W(R=>E(g,O,R,"right"),["stop","prevent"]),class:"action-button hover:bg-green-700 hover:!border-green-700 group",ref_for:!0,ref:"bookmark-btn"},w[2]||(w[2]=[p("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-bookmark group-hover:invert-100 dark:invert-100"},null,-1)]),8,Oo),p("span",{onClick:W(R=>E(g,O,R,"left"),["stop","prevent"]),class:"action-button hover:bg-gray-300",ref_for:!0,ref:"hide-btn"},w[3]||(w[3]=[p("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-eye-slash dark:invert-100"},null,-1)]),8,Po)])])],42,go)],2))),128)),p("button",{type:"button",onClick:w[0]||(w[0]=g=>x(s).fetchMoreNews()),class:"action-button mt-2 mb-5 !px-4 gap-2 hover:bg-green-700 hover:!border-green-700 hover:text-white font-semibold duration-200 group flex flex-row items-center shadow-black shadow-xs bg-white hover:shadow-md hover:scale-[101%] dark:bg-gray-800 dark:!border-gray-900 dark:text-white cursor-pointer"},[w[4]||(w[4]=p("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-refresh group-hover:invert-100 dark:invert-100"},null,-1)),p("span",{textContent:N(x(s).fetchingMoreNews?x(n)("message.check_latest_news"):x(n)("message.load_more_news"))},null,8,Io)])]))}}),To={class:"flex flex-col items-start w-full xl:max-w-screen-xl bg-white dark:bg-gray-800 shadow-md p-4 my-3 sm:px-6 sm:py-5 sm:my-4"},Mo=["textContent"],Do={class:"mb-3"},Fo=["textContent"],Vo={class:"mb-6"},Go=["textContent"],$o=["textContent"],Bo=X({__name:"PreferencesForm",setup(e){const{t}=fe(),n=gs(),s=G(10),o=G(4),l=be();nn(()=>{const u=localStorage.getItem("newsPreferences");if(u)try{const a=JSON.parse(u);s.value=a.newsListLength||10,o.value=a.newsListLengthForAutoLoad||4}catch(a){}});const r=()=>{localStorage.setItem("newsPreferences",JSON.stringify({newsListLength:s.value,newsListLengthForAutoLoad:o.value})),l.loadPreferences(),n.back()};return(u,a)=>(L(),D("div",To,[p("h1",{class:"text-xl text-left font-bold mb-4 dark:text-white",textContent:N(x(t)("message.preferences"))},null,8,Mo),p("form",{onSubmit:W(r,["prevent"]),name:"preferencesForm"},[p("div",Do,[p("label",{for:"newsListLength_id",textContent:N(x(t)("message.news_list_length"))},null,8,Fo),ie(p("input",{id:"newsListLength_id",name:"newsListLength","onUpdate:modelValue":a[0]||(a[0]=i=>s.value=i),type:"number",min:"1",class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,512),[[xe,s.value,void 0,{number:!0}]])]),p("div",Vo,[p("label",{for:"newsListLengthForAutoLoad_id",textContent:N(x(t)("message.news_list_length_for_auto_load"))},null,8,Go),ie(p("input",{id:"newsListLengthForAutoLoad_id",name:"newsListLengthForAutoLoad","onUpdate:modelValue":a[1]||(a[1]=i=>o.value=i),type:"number",min:"1",class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,512),[[xe,o.value,void 0,{number:!0}]])]),p("button",{type:"submit",ref:"submit-btn",textContent:N(x(t)("message.save")),class:"bg-green-700 hover:bg-green-600 text-white transition-colors duration-200 hover:cursor-pointer font-bold py-3 px-6 mb-3 rounded-lg min-w-xs sm:min-w-sm"},null,8,$o)],32)]))}}),H={news:{path:"/news",component:Ee,props:{request:"unread"}},reading:{path:"/news/reading",component:Ee,props:{request:"reading"}},feeds:{path:"/news/feeds",component:Fs},filters:{path:"/news/filters",component:io},viewed:{path:"/news/viewed",component:Ee,props:{request:"hidden"}},preferences:{path:"/news/preferences",component:Bo},default:{path:"/",component:Ee,props:{request:"unread"}}},Uo=hs({history:Qn(),routes:[H.news,H.reading,H.viewed,H.feeds,H.filters,H.preferences,H.default]}),qo={class:"bg-td-gray-light inset-shadow-[0_0_5px] inset-shadow-td-gray-dark/30 border-b border-b-gray-300 px-2 w-full dark:bg-gray-950 dark:border-b-black duration-200"},Ho={class:"flex flex-row flex-wrap justify-start items-center gap-3 w-full max-w-screen-xl mx-auto font-medium",role:"menu"},jo={role:"menuitem"},Wo=["textContent"],zo=["textContent"],Ko={role:"menuitem"},Qo=["textContent"],Xo=["textContent"],Jo={role:"menuitem",class:"relative"},Yo=["textContent"],Zo=["textContent"],er=["textContent"],tr=["textContent"],nr=["textContent"],sr=X({__name:"NewsNavigation",setup(e){const{t}=fe(),n=G(!1),s=be();return(o,l)=>(L(),D("nav",qo,[p("ul",Ho,[p("li",jo,[ne(x(se),{to:x(H).news,onClick:l[0]||(l[0]=r=>n.value=!1),class:"navigation-button relative"},{default:ae(()=>[l[7]||(l[7]=p("span",{class:"navigation-icon svg-inbox"},null,-1)),p("span",{textContent:N(x(t)("message.unread"))},null,8,Wo),p("span",{class:"absolute -right-2 -top-[1px] text-xs text-white bg-td-primary dark:text-black dark:bg-td-secondary rounded-xl py-0 px-1",textContent:N(x(s).newsMeta.unread)},null,8,zo)]),_:1},8,["to"])]),p("li",Ko,[ne(x(se),{to:x(H).reading,onClick:l[1]||(l[1]=r=>n.value=!1),class:"navigation-button relative"},{default:ae(()=>[l[8]||(l[8]=p("span",{class:"navigation-icon svg-newspaper"},null,-1)),p("span",{textContent:N(x(t)("message.reading"))},null,8,Qo),p("span",{class:"absolute -right-2 -top-[1px] text-xs text-white bg-td-primary dark:text-black dark:bg-td-secondary rounded-xl py-0 px-1",textContent:N(x(s).newsMeta.reading)},null,8,Xo)]),_:1},8,["to"])]),p("li",Jo,[p("button",{type:"button",class:"navigation-button cursor-pointer",onClick:l[2]||(l[2]=r=>n.value=!n.value),id:"settings-btn"},[l[9]||(l[9]=p("span",{class:"navigation-icon svg-cog"},null,-1)),p("span",{textContent:N(x(t)("message.settings"))},null,8,Yo)]),p("div",{class:Y(["absolute hidden z-10 right-0 mt-2 w-48 bg-white shadow-black shadow-sm py-1 border-b-gray-900 dark:bg-gray-900",{"!block":n.value}]),role:"menu","aria-orientation":"vertical","aria-labelledby":"settings-btn"},[ne(x(se),{to:x(H).viewed,onClick:l[3]||(l[3]=r=>n.value=!1),class:"navigation-button px-4"},{default:ae(()=>[l[10]||(l[10]=p("span",{class:"navigation-icon svg-eye"},null,-1)),p("span",{textContent:N(x(t)("message.viewed"))},null,8,Zo)]),_:1},8,["to"]),ne(x(se),{to:x(H).feeds,onClick:l[4]||(l[4]=r=>n.value=!1),class:"navigation-button px-4"},{default:ae(()=>[l[11]||(l[11]=p("span",{class:"navigation-icon svg-rss"},null,-1)),p("span",{textContent:N(x(t)("message.feeds"))},null,8,er)]),_:1},8,["to"]),ne(x(se),{to:x(H).filters,onClick:l[5]||(l[5]=r=>n.value=!1),class:"navigation-button px-4"},{default:ae(()=>[l[12]||(l[12]=p("span",{class:"navigation-icon svg-funnel"},null,-1)),p("span",{textContent:N(x(t)("message.filters"))},null,8,tr)]),_:1},8,["to"]),ne(x(se),{to:x(H).preferences,onClick:l[6]||(l[6]=r=>n.value=!1),class:"navigation-button px-4"},{default:ae(()=>[l[13]||(l[13]=p("span",{class:"navigation-icon svg-cog"},null,-1)),p("span",{textContent:N(x(t)("message.preferences"))},null,8,nr)]),_:1},8,["to"])],2)])])]))}}),or={class:"flex flex-col items-center"},rr=X({__name:"NewsApp",setup(e){const t=vs();return(n,s)=>(L(),D("div",or,[ne(sr),(L(),_e(x($t),{key:x(t).fullPath}))]))}});document.getElementById("news-app")&&sn(rr).use(un).use(cn()).use(Uo).mount("#news-app")});export default ar();
