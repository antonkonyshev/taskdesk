var qt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var U=(e,t,n)=>new Promise((s,o)=>{var c=a=>{try{i(n.next(a))}catch(l){o(l)}},r=a=>{try{i(n.throw(a))}catch(l){o(l)}},i=a=>a.done?s(a.value):Promise.resolve(a.value).then(c,r);i((n=n.apply(e,t)).next())});import{R as ne,S as jt,T as Wt,U as zt,V as Kt,C as X,J as y,W as Qt,X as Xt,B as W,Y as _t,Z as Ie,w as B,y as Jt,_ as Yt,$ as xt,a0 as yt,D as F,F as I,M as h,a1 as q,a2 as be,I as O,a3 as Fe,z as wt,H as Q,Q as ge,K as Ue,L as He,G as ee,a4 as Zt,a5 as en,a6 as tn,O as oe,a7 as pe,v as nn}from"../index-Cms_OnbX.js";import{d as qe,s as sn,b as bt,f as Ct,r as je,u as Ce,_ as Et,e as on,p as rn,c as an,m as et,i as ln,a as un}from"../AddButton.vue_vue_type_script_setup_true_lang-BH4MWXwQ.js";var Wo=qt(ue=>{/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const re=typeof document!="undefined";function Rt(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function cn(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Rt(e.default)}const S=Object.assign;function Pe(e,t){const n={};for(const s in t){const o=t[s];n[s]=j(o)?o.map(e):e(o)}return n}const he=()=>{},j=Array.isArray;function tt(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}const kt=/#/g,dn=/&/g,fn=/\//g,pn=/=/g,mn=/\?/g,At=/\+/g,hn=/%5B/g,gn=/%5D/g,Nt=/%5E/g,vn=/%60/g,St=/%7B/g,_n=/%7C/g,Ot=/%7D/g,xn=/%20/g;function We(e){return e==null?"":encodeURI(""+e).replace(_n,"|").replace(hn,"[").replace(gn,"]")}function yn(e){return We(e).replace(St,"{").replace(Ot,"}").replace(Nt,"^")}function Le(e){return We(e).replace(At,"%2B").replace(xn,"+").replace(kt,"%23").replace(dn,"%26").replace(vn,"`").replace(St,"{").replace(Ot,"}").replace(Nt,"^")}function wn(e){return Le(e).replace(pn,"%3D")}function bn(e){return We(e).replace(kt,"%23").replace(mn,"%3F")}function Cn(e){return bn(e).replace(fn,"%2F")}function ve(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch(t){}return""+e}const En=/\/$/,Rn=e=>e.replace(En,"");function Te(e,t,n="/"){let s,o={},c="",r="";const i=t.indexOf("#");let a=t.indexOf("?");return a=i>=0&&a>i?-1:a,a>=0&&(s=t.slice(0,a),c=t.slice(a,i>0?i:t.length),o=e(c.slice(1))),i>=0&&(s=s||t.slice(0,i),r=t.slice(i,t.length)),s=Sn(s!=null?s:t,n),{fullPath:s+c+r,path:s,query:o,hash:ve(r)}}function kn(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function nt(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function An(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&le(t.matched[s],n.matched[o])&&It(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function le(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function It(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!Nn(e[n],t[n]))return!1;return!0}function Nn(e,t){return j(e)?st(e,t):j(t)?st(t,e):(e==null?void 0:e.valueOf())===(t==null?void 0:t.valueOf())}function st(e,t){return j(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Sn(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let c=n.length-1,r,i;for(r=0;r<s.length;r++)if(i=s[r],i!==".")if(i==="..")c>1&&c--;else break;return n.slice(0,c).join("/")+"/"+s.slice(r).join("/")}const Y={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Ge=function(e){return e.pop="pop",e.push="push",e}({}),De=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function On(e){if(!e)if(re){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Rn(e)}const In=/^[^#]+#/;function Pn(e,t){return e.replace(In,"#")+t}function Tn(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Ee=()=>({left:window.scrollX,top:window.scrollY});function Dn(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Tn(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ot(e,t){return(history.state?history.state.position-t:-1)+e}const Be=new Map;function Mn(e,t){Be.set(e,t)}function Vn(e){const t=Be.get(e);return Be.delete(e),t}function Fn(e){return typeof e=="string"||e&&typeof e=="object"}function Pt(e){return typeof e=="string"||typeof e=="symbol"}let P=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const Tt=Symbol("");P.MATCHER_NOT_FOUND+"",P.NAVIGATION_GUARD_REDIRECT+"",P.NAVIGATION_ABORTED+"",P.NAVIGATION_CANCELLED+"",P.NAVIGATION_DUPLICATED+"";function ie(e,t){return S(new Error,{type:e,[Tt]:!0},t)}function K(e,t){return e instanceof Error&&Tt in e&&(t==null||!!(e.type&t))}const Ln=["params","query","hash"];function Gn(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of Ln)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function Bn(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<n.length;++s){const o=n[s].replace(At," "),c=o.indexOf("="),r=ve(c<0?o:o.slice(0,c)),i=c<0?null:ve(o.slice(c+1));if(r in t){let a=t[r];j(a)||(a=t[r]=[a]),a.push(i)}else t[r]=i}return t}function rt(e){let t="";for(let n in e){const s=e[n];if(n=wn(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(j(s)?s.map(o=>o&&Le(o)):[s&&Le(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function $n(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=j(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const Dt=Symbol(""),at=Symbol(""),ze=Symbol(""),Ke=Symbol(""),$e=Symbol("");function me(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Un(e,t,n){const s=()=>{e[t].delete(n)};jt(s),Wt(s),zt(()=>{e[t].add(n)}),e[t].add(n)}function Hn(e){const t=ne(Dt,{}).value;t&&Un(t,"leaveGuards",e)}function Z(e,t,n,s,o,c=r=>r()){const r=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((i,a)=>{const l=p=>{p===!1?a(ie(P.NAVIGATION_ABORTED,{from:n,to:t})):p instanceof Error?a(p):Fn(p)?a(ie(P.NAVIGATION_GUARD_REDIRECT,{from:t,to:p})):(r&&s.enterCallbacks[o]===r&&typeof p=="function"&&r.push(p),i())},f=c(()=>e.call(s&&s.instances[o],t,n,l));let d=Promise.resolve(f);e.length<3&&(d=d.then(l)),d.catch(p=>a(p))})}function Me(e,t,n,s,o=c=>c()){const c=[];for(const r of e)for(const i in r.components){let a=r.components[i];if(!(t!=="beforeRouteEnter"&&!r.instances[i]))if(Rt(a)){const l=(a.__vccOpts||a)[t];l&&c.push(Z(l,n,s,r,i,o))}else{let l=a();c.push(()=>l.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${i}" at "${r.path}"`);const d=cn(f)?f.default:f;r.mods[i]=f,r.components[i]=d;const p=(d.__vccOpts||d)[t];return p&&Z(p,n,s,r,i,o)()}))}}return c}function qn(e,t){const n=[],s=[],o=[],c=Math.max(t.matched.length,e.matched.length);for(let r=0;r<c;r++){const i=t.matched[r];i&&(e.matched.find(l=>le(l,i))?s.push(i):n.push(i));const a=e.matched[r];a&&(t.matched.find(l=>le(l,a))||o.push(a))}return[n,s,o]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let jn=()=>location.protocol+"//"+location.host;function Mt(e,t){const{pathname:n,search:s,hash:o}=t,c=e.indexOf("#");if(c>-1){let r=o.includes(e.slice(c))?e.slice(c).length:1,i=o.slice(r);return i[0]!=="/"&&(i="/"+i),nt(i,"")}return nt(n,e)+s+o}function Wn(e,t,n,s){let o=[],c=[],r=null;const i=({state:p})=>{const m=Mt(e,location),N=n.value,E=t.value;let C=0;if(p){if(n.value=m,t.value=p,r&&r===N){r=null;return}C=E?p.position-E.position:0}else s(m);o.forEach(_=>{_(n.value,N,{delta:C,type:Ge.pop,direction:C?C>0?De.forward:De.back:De.unknown})})};function a(){r=n.value}function l(p){o.push(p);const m=()=>{const N=o.indexOf(p);N>-1&&o.splice(N,1)};return c.push(m),m}function f(){if(document.visibilityState==="hidden"){const{history:p}=window;if(!p.state)return;p.replaceState(S({},p.state,{scroll:Ee()}),"")}}function d(){for(const p of c)p();c=[],window.removeEventListener("popstate",i),window.removeEventListener("pagehide",f),document.removeEventListener("visibilitychange",f)}return window.addEventListener("popstate",i),window.addEventListener("pagehide",f),document.addEventListener("visibilitychange",f),{pauseListeners:a,listen:l,destroy:d}}function lt(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?Ee():null}}function zn(e){const{history:t,location:n}=window,s={value:Mt(e,n)},o={value:t.state};o.value||c(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function c(a,l,f){const d=e.indexOf("#"),p=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+a:jn()+e+a;try{t[f?"replaceState":"pushState"](l,"",p),o.value=l}catch(m){console.error(m),n[f?"replace":"assign"](p)}}function r(a,l){c(a,S({},t.state,lt(o.value.back,a,o.value.forward,!0),l,{position:o.value.position}),!0),s.value=a}function i(a,l){const f=S({},o.value,t.state,{forward:a,scroll:Ee()});c(f.current,f,!0),c(a,S({},lt(s.value,a,null),{position:f.position+1},l),!1),s.value=a}return{location:s,state:o,push:i,replace:r}}function Kn(e){e=On(e);const t=zn(e),n=Wn(e,t.state,t.location,t.replace);function s(c,r=!0){r||n.pauseListeners(),history.go(c)}const o=S({location:"",base:e,go:s,createHref:Pn.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}let te=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var M=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(M||{});const Qn={type:te.Static,value:""},Xn=/[a-zA-Z0-9_]/;function Jn(e){if(!e)return[[]];if(e==="/")return[[Qn]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${l}": ${m}`)}let n=M.Static,s=n;const o=[];let c;function r(){c&&o.push(c),c=[]}let i=0,a,l="",f="";function d(){l&&(n===M.Static?c.push({type:te.Static,value:l}):n===M.Param||n===M.ParamRegExp||n===M.ParamRegExpEnd?(c.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),c.push({type:te.Param,value:l,regexp:f,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),l="")}function p(){l+=a}for(;i<e.length;){if(a=e[i++],a==="\\"&&n!==M.ParamRegExp){s=n,n=M.EscapeNext;continue}switch(n){case M.Static:a==="/"?(l&&d(),r()):a===":"?(d(),n=M.Param):p();break;case M.EscapeNext:p(),n=s;break;case M.Param:a==="("?n=M.ParamRegExp:Xn.test(a)?p():(d(),n=M.Static,a!=="*"&&a!=="?"&&a!=="+"&&i--);break;case M.ParamRegExp:a===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+a:n=M.ParamRegExpEnd:f+=a;break;case M.ParamRegExpEnd:d(),n=M.Static,a!=="*"&&a!=="?"&&a!=="+"&&i--,f="";break;default:t("Unknown state");break}}return n===M.ParamRegExp&&t(`Unfinished custom RegExp for param "${l}"`),d(),r(),o}const it="[^/]+?",Yn={sensitive:!1,strict:!1,start:!0,end:!0};var L=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(L||{});const Zn=/[.+*?^${}()[\]/\\]/g;function es(e,t){const n=S({},Yn,t),s=[];let o=n.start?"^":"";const c=[];for(const l of e){const f=l.length?[]:[L.Root];n.strict&&!l.length&&(o+="/");for(let d=0;d<l.length;d++){const p=l[d];let m=L.Segment+(n.sensitive?L.BonusCaseSensitive:0);if(p.type===te.Static)d||(o+="/"),o+=p.value.replace(Zn,"\\$&"),m+=L.Static;else if(p.type===te.Param){const{value:N,repeatable:E,optional:C,regexp:_}=p;c.push({name:N,repeatable:E,optional:C});const w=_||it;if(w!==it){m+=L.BonusCustomRegExp;try{`${w}`}catch(V){throw new Error(`Invalid custom RegExp for param "${N}" (${w}): `+V.message)}}let x=E?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;d||(x=C&&l.length<2?`(?:/${x})`:"/"+x),C&&(x+="?"),o+=x,m+=L.Dynamic,C&&(m+=L.BonusOptional),E&&(m+=L.BonusRepeatable),w===".*"&&(m+=L.BonusWildcard)}f.push(m)}s.push(f)}if(n.strict&&n.end){const l=s.length-1;s[l][s[l].length-1]+=L.BonusStrict}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const r=new RegExp(o,n.sensitive?"":"i");function i(l){const f=l.match(r),d={};if(!f)return null;for(let p=1;p<f.length;p++){const m=f[p]||"",N=c[p-1];d[N.name]=m&&N.repeatable?m.split("/"):m}return d}function a(l){let f="",d=!1;for(const p of e){(!d||!f.endsWith("/"))&&(f+="/"),d=!1;for(const m of p)if(m.type===te.Static)f+=m.value;else if(m.type===te.Param){const{value:N,repeatable:E,optional:C}=m,_=N in l?l[N]:"";if(j(_)&&!E)throw new Error(`Provided param "${N}" is an array but it is not repeatable (* or + modifiers)`);const w=j(_)?_.join("/"):_;if(!w)if(C)p.length<2&&(f.endsWith("/")?f=f.slice(0,-1):d=!0);else throw new Error(`Missing required param "${N}"`);f+=w}}return f||"/"}return{re:r,score:s,keys:c,parse:i,stringify:a}}function ts(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===L.Static+L.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===L.Static+L.Segment?1:-1:0}function Vt(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const c=ts(s[n],o[n]);if(c)return c;n++}if(Math.abs(o.length-s.length)===1){if(ut(s))return 1;if(ut(o))return-1}return o.length-s.length}function ut(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ns={strict:!1,end:!0,sensitive:!1};function ss(e,t,n){const s=es(Jn(e.path),n),o=S(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function os(e,t){const n=[],s=new Map;t=tt(ns,t);function o(d){return s.get(d)}function c(d,p,m){const N=!m,E=dt(d);E.aliasOf=m&&m.record;const C=tt(t,d),_=[E];if("alias"in d){const V=typeof d.alias=="string"?[d.alias]:d.alias;for(const z of V)_.push(dt(S({},E,{components:m?m.record.components:E.components,path:z,aliasOf:m?m.record:E})))}let w,x;for(const V of _){const{path:z}=V;if(p&&z[0]!=="/"){const J=p.record.path,$=J[J.length-1]==="/"?"":"/";V.path=p.record.path+(z&&$+z)}if(w=ss(V,p,C),m?m.alias.push(w):(x=x||w,x!==w&&x.alias.push(w),N&&d.name&&!ft(w)&&r(d.name)),Ft(w)&&a(w),E.children){const J=E.children;for(let $=0;$<J.length;$++)c(J[$],w,m&&m.children[$])}m=m||w}return x?()=>{r(x)}:he}function r(d){if(Pt(d)){const p=s.get(d);p&&(s.delete(d),n.splice(n.indexOf(p),1),p.children.forEach(r),p.alias.forEach(r))}else{const p=n.indexOf(d);p>-1&&(n.splice(p,1),d.record.name&&s.delete(d.record.name),d.children.forEach(r),d.alias.forEach(r))}}function i(){return n}function a(d){const p=ls(d,n);n.splice(p,0,d),d.record.name&&!ft(d)&&s.set(d.record.name,d)}function l(d,p){let m,N={},E,C;if("name"in d&&d.name){if(m=s.get(d.name),!m)throw ie(P.MATCHER_NOT_FOUND,{location:d});C=m.record.name,N=S(ct(p.params,m.keys.filter(x=>!x.optional).concat(m.parent?m.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),d.params&&ct(d.params,m.keys.map(x=>x.name))),E=m.stringify(N)}else if(d.path!=null)E=d.path,m=n.find(x=>x.re.test(E)),m&&(N=m.parse(E),C=m.record.name);else{if(m=p.name?s.get(p.name):n.find(x=>x.re.test(p.path)),!m)throw ie(P.MATCHER_NOT_FOUND,{location:d,currentLocation:p});C=m.record.name,N=S({},p.params,d.params),E=m.stringify(N)}const _=[];let w=m;for(;w;)_.unshift(w.record),w=w.parent;return{name:C,path:E,params:N,matched:_,meta:as(_)}}e.forEach(d=>c(d));function f(){n.length=0,s.clear()}return{addRoute:c,resolve:l,removeRoute:r,clearRoutes:f,getRoutes:i,getRecordMatcher:o}}function ct(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function dt(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:rs(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function rs(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function ft(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function as(e){return e.reduce((t,n)=>S(t,n.meta),{})}function ls(e,t){let n=0,s=t.length;for(;n!==s;){const c=n+s>>1;Vt(e,t[c])<0?s=c:n=c+1}const o=is(e);return o&&(s=t.lastIndexOf(o,s-1)),s}function is(e){let t=e;for(;t=t.parent;)if(Ft(t)&&Vt(e,t)===0)return t}function Ft({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function pt(e){const t=ne(ze),n=ne(Ke),s=W(()=>{const a=y(e.to);return t.resolve(a)}),o=W(()=>{const{matched:a}=s.value,{length:l}=a,f=a[l-1],d=n.matched;if(!f||!d.length)return-1;const p=d.findIndex(le.bind(null,f));if(p>-1)return p;const m=mt(a[l-2]);return l>1&&mt(f)===m&&d[d.length-1].path!==m?d.findIndex(le.bind(null,a[l-2])):p}),c=W(()=>o.value>-1&&fs(n.params,s.value.params)),r=W(()=>o.value>-1&&o.value===n.matched.length-1&&It(n.params,s.value.params));function i(a={}){if(ds(a)){const l=t[y(e.replace)?"replace":"push"](y(e.to)).catch(he);return e.viewTransition&&typeof document!="undefined"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:s,href:W(()=>s.value.href),isActive:c,isExactActive:r,navigate:i}}function us(e){return e.length===1?e[0]:e}const cs=X({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:pt,setup(e,{slots:t}){const n=Xt(pt(e)),{options:s}=ne(ze),o=W(()=>({[ht(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[ht(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const c=t.default&&us(t.default(n));return e.custom?c:_t("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},c)}}}),ae=cs;function ds(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function fs(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!j(o)||o.length!==s.length||s.some((c,r)=>c.valueOf()!==o[r].valueOf()))return!1}return!0}function mt(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ht=(e,t,n)=>e!=null?e:t!=null?t:n,ps=X({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=ne($e),o=W(()=>e.route||s.value),c=ne(at,0),r=W(()=>{let l=y(c);const{matched:f}=o.value;let d;for(;(d=f[l])&&!d.components;)l++;return l}),i=W(()=>o.value.matched[r.value]);Ie(at,W(()=>r.value+1)),Ie(Dt,i),Ie($e,o);const a=B();return Jt(()=>[a.value,i.value,e.name],([l,f,d],[p,m,N])=>{f&&(f.instances[d]=l,m&&m!==f&&l&&l===p&&(f.leaveGuards.size||(f.leaveGuards=m.leaveGuards),f.updateGuards.size||(f.updateGuards=m.updateGuards))),l&&f&&(!m||!le(f,m)||!p)&&(f.enterCallbacks[d]||[]).forEach(E=>E(l))},{flush:"post"}),()=>{const l=o.value,f=e.name,d=i.value,p=d&&d.components[f];if(!p)return gt(n.default,{Component:p,route:l});const m=d.props[f],N=m?m===!0?l.params:typeof m=="function"?m(l):m:null,C=_t(p,S({},N,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(d.instances[f]=null)},ref:a}));return gt(n.default,{Component:C,route:l})||C}}});function gt(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Lt=ps;function ms(e){const t=os(e.routes,e),n=e.parseQuery||Bn,s=e.stringifyQuery||rt,o=e.history,c=me(),r=me(),i=me(),a=Kt(Y);let l=Y;re&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Pe.bind(null,u=>""+u),d=Pe.bind(null,Cn),p=Pe.bind(null,ve);function m(u,v){let g,b;return Pt(u)?(g=t.getRecordMatcher(u),b=v):b=u,t.addRoute(b,g)}function N(u){const v=t.getRecordMatcher(u);v&&t.removeRoute(v)}function E(){return t.getRoutes().map(u=>u.record)}function C(u){return!!t.getRecordMatcher(u)}function _(u,v){if(v=S({},v||a.value),typeof u=="string"){const R=Te(n,u,v.path),D=t.resolve({path:R.path},v),fe=o.createHref(R.fullPath);return S(R,D,{params:p(D.params),hash:ve(R.hash),redirectedFrom:void 0,href:fe})}let g;if(u.path!=null)g=S({},u,{path:Te(n,u.path,v.path).path});else{const R=S({},u.params);for(const D in R)R[D]==null&&delete R[D];g=S({},u,{params:d(R)}),v.params=d(v.params)}const b=t.resolve(g,v),A=u.hash||"";b.params=f(p(b.params));const T=kn(s,S({},u,{hash:yn(A),path:b.path})),k=o.createHref(T);return S({fullPath:T,hash:A,query:s===rt?$n(u.query):u.query||{}},b,{redirectedFrom:void 0,href:k})}function w(u){return typeof u=="string"?Te(n,u,a.value.path):S({},u)}function x(u,v){if(l!==u)return ie(P.NAVIGATION_CANCELLED,{from:v,to:u})}function V(u){return $(u)}function z(u){return V(S(w(u),{replace:!0}))}function J(u,v){const g=u.matched[u.matched.length-1];if(g&&g.redirect){const{redirect:b}=g;let A=typeof b=="function"?b(u,v):b;return typeof A=="string"&&(A=A.includes("?")||A.includes("#")?A=w(A):{path:A},A.params={}),S({query:u.query,hash:u.hash,params:A.path!=null?{}:u.params},A)}}function $(u,v){const g=l=_(u),b=a.value,A=u.state,T=u.force,k=u.replace===!0,R=J(g,b);if(R)return $(S(w(R),{state:typeof R=="object"?S({},A,R.state):A,force:T,replace:k}),v||g);const D=g;D.redirectedFrom=v;let fe;return!T&&An(s,b,g)&&(fe=ie(P.NAVIGATION_DUPLICATED,{to:D,from:b}),Ze(b,b,!0,!1)),(fe?Promise.resolve(fe):Qe(D,b)).catch(G=>K(G)?K(G,P.NAVIGATION_GUARD_REDIRECT)?G:Ne(G):Ae(G,D,b)).then(G=>{if(G){if(K(G,P.NAVIGATION_GUARD_REDIRECT))return $(S({replace:k},w(G.to),{state:typeof G.to=="object"?S({},A,G.to.state):A,force:T}),v||D)}else G=Je(D,b,!0,k,A);return Xe(D,b,G),G})}function $t(u,v){const g=x(u,v);return g?Promise.reject(g):Promise.resolve()}function Re(u){const v=xe.values().next().value;return v&&typeof v.runWithContext=="function"?v.runWithContext(u):u()}function Qe(u,v){let g;const[b,A,T]=qn(u,v);g=Me(b.reverse(),"beforeRouteLeave",u,v);for(const R of b)R.leaveGuards.forEach(D=>{g.push(Z(D,u,v))});const k=$t.bind(null,u,v);return g.push(k),se(g).then(()=>{g=[];for(const R of c.list())g.push(Z(R,u,v));return g.push(k),se(g)}).then(()=>{g=Me(A,"beforeRouteUpdate",u,v);for(const R of A)R.updateGuards.forEach(D=>{g.push(Z(D,u,v))});return g.push(k),se(g)}).then(()=>{g=[];for(const R of T)if(R.beforeEnter)if(j(R.beforeEnter))for(const D of R.beforeEnter)g.push(Z(D,u,v));else g.push(Z(R.beforeEnter,u,v));return g.push(k),se(g)}).then(()=>(u.matched.forEach(R=>R.enterCallbacks={}),g=Me(T,"beforeRouteEnter",u,v,Re),g.push(k),se(g))).then(()=>{g=[];for(const R of r.list())g.push(Z(R,u,v));return g.push(k),se(g)}).catch(R=>K(R,P.NAVIGATION_CANCELLED)?R:Promise.reject(R))}function Xe(u,v,g){i.list().forEach(b=>Re(()=>b(u,v,g)))}function Je(u,v,g,b,A){const T=x(u,v);if(T)return T;const k=v===Y,R=re?history.state:{};g&&(b||k?o.replace(u.fullPath,S({scroll:k&&R&&R.scroll},A)):o.push(u.fullPath,A)),a.value=u,Ze(u,v,g,k),Ne()}let ce;function Ut(){ce||(ce=o.listen((u,v,g)=>{if(!de.listening)return;const b=_(u),A=J(b,de.currentRoute.value);if(A){$(S(A,{replace:!0,force:!0}),b).catch(he);return}l=b;const T=a.value;re&&Mn(ot(T.fullPath,g.delta),Ee()),Qe(b,T).catch(k=>K(k,P.NAVIGATION_ABORTED|P.NAVIGATION_CANCELLED)?k:K(k,P.NAVIGATION_GUARD_REDIRECT)?($(S(w(k.to),{force:!0}),b).then(R=>{K(R,P.NAVIGATION_ABORTED|P.NAVIGATION_DUPLICATED)&&!g.delta&&g.type===Ge.pop&&o.go(-1,!1)}).catch(he),Promise.reject()):(g.delta&&o.go(-g.delta,!1),Ae(k,b,T))).then(k=>{k=k||Je(b,T,!1),k&&(g.delta&&!K(k,P.NAVIGATION_CANCELLED)?o.go(-g.delta,!1):g.type===Ge.pop&&K(k,P.NAVIGATION_ABORTED|P.NAVIGATION_DUPLICATED)&&o.go(-1,!1)),Xe(b,T,k)}).catch(he)}))}let ke=me(),Ye=me(),_e;function Ae(u,v,g){Ne(u);const b=Ye.list();return b.length?b.forEach(A=>A(u,v,g)):console.error(u),Promise.reject(u)}function Ht(){return _e&&a.value!==Y?Promise.resolve():new Promise((u,v)=>{ke.add([u,v])})}function Ne(u){return _e||(_e=!u,Ut(),ke.list().forEach(([v,g])=>u?g(u):v()),ke.reset()),u}function Ze(u,v,g,b){const{scrollBehavior:A}=e;if(!re||!A)return Promise.resolve();const T=!g&&Vn(ot(u.fullPath,0))||(b||!g)&&history.state&&history.state.scroll||null;return Yt().then(()=>A(u,v,T)).then(k=>k&&Dn(k)).catch(k=>Ae(k,u,v))}const Se=u=>o.go(u);let Oe;const xe=new Set,de={currentRoute:a,listening:!0,addRoute:m,removeRoute:N,clearRoutes:t.clearRoutes,hasRoute:C,getRoutes:E,resolve:_,options:e,push:V,replace:z,go:Se,back:()=>Se(-1),forward:()=>Se(1),beforeEach:c.add,beforeResolve:r.add,afterEach:i.add,onError:Ye.add,isReady:Ht,install(u){u.component("RouterLink",ae),u.component("RouterView",Lt),u.config.globalProperties.$router=de,Object.defineProperty(u.config.globalProperties,"$route",{enumerable:!0,get:()=>y(a)}),re&&!Oe&&a.value===Y&&(Oe=!0,V(o.location).catch(b=>{}));const v={};for(const b in Y)Object.defineProperty(v,b,{get:()=>a.value[b],enumerable:!0});u.provide(ze,de),u.provide(Ke,Qt(v)),u.provide($e,a);const g=u.unmount;xe.add(u),u.unmount=function(){xe.delete(u),xe.size<1&&(l=Y,ce&&ce(),ce=null,a.value=Y,Oe=!1,_e=!1),g()}}};function se(u){return u.reduce((v,g)=>v.then(()=>Re(g)),Promise.resolve())}return de}function hs(e){return ne(Ke)}const Gt=qe("feed",()=>{const e=B([]),t=(r=null)=>"/feed/"+(r&&r.id?r.id+"/":""),n=r=>je(r,e,i=>r.id&&i.id?r.id==i.id:r.url==i.url);return{feeds:e,loadFeeds:()=>U(ue,null,function*(){return(yield Ct(t())).forEach(n)}),removeFeed:r=>bt(r,e,t(r),i=>r.id&&i.id?i.id==r.id:r.url==i.url),saveFeed:r=>sn(r,e,t(r),i=>r.id&&i.id?i.id==r.id:r.url==i.url)}}),gs={class:"flex-1 lg:flex-2 my-3 mx-3 md:ml-3 px-4 py-3.5 bg-white min-h-screen shadow-[0px_0px_5px_-2px_#000] dark:bg-gray-800 dark:text-white"},vs={class:"mt-3"},_s=["textContent"],xs=["placeholder"],ys={class:"mt-2"},ws=["textContent"],bs=["placeholder"],Cs={class:"mt-6"},Es=["textContent"],Rs=X({__name:"FeedForm",props:{modelValue:{required:!0},modelModifiers:{}},emits:xt(["cancel","submit"],["update:modelValue"]),setup(e,{emit:t}){const{t:n}=Ce(),s=yt(e,"modelValue"),o=t,c=B(s.value.title),r=B(s.value.url),i=()=>{s.value.title=c.value.trim(),s.value.url=r.value.trim(),o("submit")};return(a,l)=>(I(),F("div",gs,[h("form",{name:"feedForm",onSubmit:q(i,["prevent"])},[h("p",null,[h("button",{type:"button",onClick:l[0]||(l[0]=f=>o("cancel")),class:"action-button hover:bg-gray-300",ref:"cancel-btn"},l[4]||(l[4]=[h("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-arrow-left dark:invert-100 dark:hover:invert-0"},null,-1)]),512)]),h("p",vs,[h("label",{for:"id_title",textContent:O(y(n)("message.name"))},null,8,_s),be(h("input",{id:"id_title",name:"title",type:"text","onUpdate:modelValue":l[1]||(l[1]=f=>c.value=f),placeholder:y(n)("message.feed_title_placeholder"),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,8,xs),[[Fe,c.value]])]),h("p",ys,[h("label",{for:"id_url",textContent:O(y(n)("message.url"))},null,8,ws),be(h("input",{id:"id_url",name:"url",type:"url","onUpdate:modelValue":l[2]||(l[2]=f=>r.value=f),placeholder:y(n)("message.feed_url_placeholder"),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,8,bs),[[Fe,r.value]])]),h("p",Cs,[h("button",{type:"submit",onClick:l[3]||(l[3]=q(f=>i(),["stop"])),textContent:O(y(n)("message.save")),ref:"submit-btn",class:"bg-green-700 hover:bg-green-600 text-white transition-colors duration-200 hover:cursor-pointer font-bold py-3 px-6 rounded-lg min-w-xs sm:min-w-sm"},null,8,Es)])],32)]))}}),ks={class:"flex flex-row w-full max-w-screen-xl"},As={key:0,class:"flex-1 overflow-y-scroll scroll-smooth max-h-[calc(100vh_+_0.75rem)] md:-ml-6 md:pl-6"},Ns=["onClick"],Ss={class:"flex-1"},Os={class:"font-semibold flex flex-row justify-between items-start gap-2"},Is=["textContent"],Ps=["textContent"],Ts=["onClick"],Ds=640,Ms=X({__name:"FeedList",setup(e){const{width:t}=wt(),n=Gt(),s=B(null);function o(){return U(this,null,function*(){s.value={title:"",url:""}})}function c(){return U(this,null,function*(){const r=s.value;s.value=null,yield n.saveFeed(r)})}return n.loadFeeds(),(r,i)=>(I(),F("div",ks,[(!s.value||y(t)>=Ds)&&y(n).feeds.length?(I(),F("div",As,[(I(!0),F(Ue,null,He(y(n).feeds,a=>(I(),F("div",{key:a.id,onClick:l=>s.value=a,class:ee([{"!shadow-lg !scale-[102%]":s.value&&a.id===s.value.id},"flex flex-row items-center my-3 p-3 shadow-black shadow-xs bg-white hover:shadow-md hover:scale-[101%] dark:bg-gray-800 dark:text-white duration-200 cursor-pointer"])},[h("div",Ss,[h("h2",Os,[h("span",{textContent:O(a.title),class:"text-lg flex-1"},null,8,Is)]),h("p",{class:"flex flex-row gap-1 items-center",textContent:O(a.url)},null,8,Ps)]),h("button",{type:"button",onClick:q(l=>y(n).removeFeed(a),["stop"]),class:"action-button hover:bg-red-700 hover:!border-red-700 group ml-auto",ref_for:!0,ref:"delete-btn"},i[3]||(i[3]=[h("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-trash dark:invert-100 group-hover:invert-100"},null,-1)]),8,Ts)],10,Ns))),128))])):Q("",!0),s.value?(I(),ge(Rs,{key:1,modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=a=>s.value=a),onCancel:i[1]||(i[1]=a=>s.value=null),onSubmit:i[2]||(i[2]=a=>c())},null,8,["modelValue"])):Q("",!0),s.value?Q("",!0):(I(),ge(Et,{key:2,"add-item":o}))]))}}),Vs=qe("filter",()=>{const e=B([]),t=(r=null)=>"/filter/"+(r&&r.id?r.id+"/":""),n=()=>U(ue,null,function*(){return(yield Ct(t())).forEach(s)}),s=r=>je(r,e,i=>r.id&&i.id?r.id==i.id:r.entry==i.entry&&r.part==i.part&&r.feed_id==i.feed_id),o=r=>bt(r,e,t(r),i=>r.id&&i.id?r.id==i.id:r.entry==i.entry&&r.part==i.part&&r.feed_id==i.feed_id);function c(r){return U(this,null,function*(){r.id||(r.entry=r.entry.toLowerCase(),e.value.unshift(r));try{s(yield on(r,"post",t(r)))}catch(i){r.id||e.value.splice(0,1)}})}return{filters:e,loadFilters:n,removeFilter:o,saveFilter:c}}),Fs={class:"flex-1 lg:flex-2 my-3 mx-3 md:!ml-0 px-4 py-3.5 bg-white min-h-screen shadow-[0px_0px_5px_-2px_#000] dark:bg-gray-800 dark:text-white"},Ls={class:"mt-3"},Gs=["textContent"],Bs=["placeholder"],$s={class:"mt-2"},Us=["textContent"],Hs=["textContent"],qs=["textContent"],js=["textContent"],Ws=["textContent"],zs={class:"mt-6"},Ks=["textContent"],Qs=X({__name:"FilterForm",props:{modelValue:{required:!0},modelModifiers:{}},emits:xt(["cancel","submit"],["update:modelValue"]),setup(e,{emit:t}){const{t:n}=Ce(),s=yt(e,"modelValue"),o=t,c=B(s.value.entry),r=B(s.value.part),i=()=>{s.value.entry=c.value.trim(),s.value.part=r.value.trim(),o("submit")};return(a,l)=>(I(),F("div",Fs,[h("form",{name:"filterForm",onSubmit:q(i,["prevent"])},[h("p",null,[h("button",{type:"button",onClick:l[0]||(l[0]=f=>o("cancel")),class:"action-button hover:bg-gray-300",ref:"cancel-btn"},l[4]||(l[4]=[h("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-arrow-left dark:invert-100 dark:hover:invert-0"},null,-1)]),512)]),h("p",Ls,[h("label",{for:"id_entry",textContent:O(y(n)("message.word"))},null,8,Gs),be(h("input",{id:"id_entry",name:"entry",type:"text","onUpdate:modelValue":l[1]||(l[1]=f=>c.value=f),placeholder:y(n)("message.filter_entry_placeholder"),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,8,Bs),[[Fe,c.value]])]),h("p",$s,[h("label",{for:"id_part",textContent:O(y(n)("message.part_of_word"))},null,8,Us),be(h("select",{id:"id_part",name:"part","onUpdate:modelValue":l[2]||(l[2]=f=>r.value=f),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},[h("option",{value:"start",textContent:O(y(n)("message.word_start"))},null,8,Hs),h("option",{value:"end",textContent:O(y(n)("message.word_end"))},null,8,qs),h("option",{value:"full",textContent:O(y(n)("message.word_full"))},null,8,js),h("option",{value:"part",textContent:O(y(n)("message.word_part"))},null,8,Ws)],512),[[Zt,r.value]])]),h("p",zs,[h("button",{type:"submit",onClick:l[3]||(l[3]=q(f=>i(),["stop"])),textContent:O(y(n)("message.save")),ref:"submit-btn",class:"bg-green-700 hover:bg-green-600 text-white transition-colors duration-200 hover:cursor-pointer font-bold py-3 px-6 rounded-lg min-w-xs sm:min-w-sm"},null,8,Ks)])],32)]))}}),Xs={class:"flex flex-row w-full max-w-screen-xl"},Js={key:0,class:"flex-1 overflow-y-scroll scroll-smooth overflow-x-hidden max-h-[calc(100vh_+_0.75rem)] md:-ml-6 md:pl-6"},Ys=["onClick"],Zs={class:"flex-1"},eo={class:"font-semibold flex flex-row justify-between items-start gap-2"},to=["textContent"],no=["textContent"],so=["textContent"],oo=["onClick"],ro=768,ao=X({__name:"FilterList",setup(e){const{width:t}=wt(),n=Vs(),s=B(null);function o(){return U(this,null,function*(){s.value={entry:"",part:"start"}})}function c(){return U(this,null,function*(){const r=s.value;s.value=null,yield n.saveFilter(r)})}return n.loadFilters(),(r,i)=>(I(),F("div",Xs,[(!s.value||y(t)>=ro)&&y(n).filters.length?(I(),F("div",Js,[(I(!0),F(Ue,null,He(y(n).filters,a=>(I(),F("div",{key:a.id,onClick:l=>s.value=a,class:ee([{"!shadow-lg !scale-[102%]":s.value&&a.id===s.value.id},"flex flex-row items-center my-3 p-3 md:mx-4 shadow-black shadow-xs bg-white hover:shadow-md hover:scale-[101%] dark:bg-gray-800 dark:text-white duration-200 cursor-pointer"])},[h("div",Zs,[h("h2",eo,[h("span",{textContent:O(a.entry),class:"text-lg flex-1"},null,8,to)]),a.part?(I(),F("p",{key:0,class:"flex flex-row gap-1 items-center",textContent:O(a.part)},null,8,no)):Q("",!0),a.feed_id?(I(),F("p",{key:1,class:"flex flex-row gap-1 items-center",textContent:O(a.feed_id)},null,8,so)):Q("",!0)]),h("button",{type:"button",onClick:q(l=>y(n).removeFilter(a),["stop"]),class:"action-button hover:bg-red-700 hover:!border-red-700 group ml-auto",ref_for:!0,ref:"delete-btn"},i[3]||(i[3]=[h("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-trash group-hover:invert-100"},null,-1)]),8,oo)],10,Ys))),128))])):Q("",!0),s.value?(I(),ge(Qs,{key:1,modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=a=>s.value=a),onCancel:i[1]||(i[1]=a=>s.value=null),onSubmit:i[2]||(i[2]=a=>c())},null,8,["modelValue"])):Q("",!0),s.value?Q("",!0):(I(),ge(Et,{key:2,"add-item":o}))]))}});let we=null,vt=null;const lo=6e5,io=(e,t)=>{Bt().refreshNews(JSON.parse(t.data))},uo=()=>{clearTimeout(vt),vt=setTimeout(co,lo)},Ve=()=>U(ue,null,function*(){return uo(),we=yield rn(we,"/news/",io),we}),co=()=>an(we),fo=4,po=3e5,Bt=qe("news",()=>{const e=B([]);let t;const n=l=>je(l,e,f=>f.id==l.id,!0),s=()=>U(ue,null,function*(){return(yield Ve()).send(JSON.stringify(t&&t.request?t:{request:"unread"}))});function o(l,f=!1){return U(this,null,function*(){try{(yield Ve()).send(JSON.stringify({request:f?"bookmark":"hide",id:l.id}));const d=e.value.findIndex(p=>p.id==l.id);d>=0&&e.value.splice(d,1),e.value.length<=fo&&(yield s())}catch(d){console.error(d)}})}let c=!1;return{news:e,loadNews:s,refreshNews:n,markNews:o,fetchMoreNews:()=>U(ue,null,function*(){c?yield s():((yield Ve()).send(JSON.stringify({request:"fetch"})),c=!0,setInterval(()=>c=!1,po))}),setQuery:l=>{t=l},dropNews:()=>{e.value=[]}}}),mo={class:"flex flex-col items-center xl:max-w-screen-xl"},ho=["href","onTouchstart","onTouchend","onTouchmove","onMousedown","onMousemove","onMouseup"],go={class:"flex flex-col gap-3 md:gap-4 lg:gap-5 sm:flex-row"},vo={class:"flex flex-col gap-1 sm:gap-2 flex-1"},_o={class:"font-semibold flex flex-row justify-between items-start gap-2"},xo=["textContent"],yo=["innerHTML"],wo={class:"hidden sm:flex sm:flex-row"},bo=["textContent"],Co=["textContent"],Eo={class:"flex flex-row sm:flex-col sm:hidden"},Ro=["textContent"],ko=["textContent"],Ao={class:"flex flex-row sm:flex-col justify-center sm:justify-end items-center gap-3"},No=["onClick"],So=["onClick"],Oo=["textContent"],ye=X({__name:"NewsList",props:en({request:{},id:{}},{request:"unread"}),setup(e){const t=e,{t:n}=Ce(),s=Bt();s.setQuery(t);const o=Gt(),c=B([]),r=B("");Hn((E,C)=>{s.dropNews()});const i=E=>new DOMParser().parseFromString(E,"text/html").body.textContent||"",a=E=>{const C=o.feeds.find(_=>_.id==E);return C?C.title||C.url:""},l=B(0);let f=!1;const d=(E,C,_)=>{const w="changedTouches"in _?_.changedTouches[0].clientX:_.screenX;l.value=w},p=(E,C,_)=>{if(l.value<=0)return;const w="changedTouches"in _?_.changedTouches[0].clientX:_.screenX,x=Math.abs(w)-Math.abs(l.value),V=x>0?"right":"left";if(!f&&Math.abs(x)>20&&(f=!0),r.value!=V&&(r.value=V),Math.abs(x)>20){const z=c.value[C];z.style.left=x.toString()+"px"}},m=(E,C,_,w=null)=>{const x=c.value[C];let V=x.clientWidth||100;w||(r.value="",V=Math.abs("changedTouches"in _?_.changedTouches[0].clientX:_.screenX)-Math.abs(l.value),l.value=0,setTimeout(()=>f=!1,100),w=V>0?"right":"left"),Math.abs(V)/x.clientWidth>.25?w=="left"?(setTimeout(()=>s.markNews(E),400),x.style.left="-"+(x.clientWidth*2).toString()+"px"):w=="right"&&(setTimeout(()=>s.markNews(E,!0),400),x.style.left=(x.clientWidth*2).toString()+"px"):x.style.left="0"},N=E=>{f&&(E.preventDefault(),E.stopPropagation())};return s.loadNews(),o.feeds.length||o.loadFeeds(),(E,C)=>(I(),F("div",mo,[(I(!0),F(Ue,null,He(y(s).news,(_,w)=>(I(),F("div",{key:_.id,class:ee(["flex w-full overflow-x-clip xl:[overflow-clip-margin:3px] relative gap-3 my-3 bg-gray-200",{"bg-green-700":r.value=="right"}])},[h("span",{class:ee(["absolute opacity-0 top-0 right-5 w-[50px] h-[100%] duration-500 bg-no-repeat bg-center bg-contain svg-eye-slash",{"opacity-100 !duration-[0ms]":r.value=="left"}])},null,2),h("span",{class:ee(["absolute opacity-0 top-0 left-5 w-[50px] h-[100%] duration-500 bg-no-repeat bg-center bg-contain svg-bookmark invert-100",{"opacity-100 !duration-[0ms]":r.value=="right"}])},null,2),h("a",{href:_.link,target:"_blank",ref_for:!0,ref_key:"newsElements",ref:c,onTouchstart:x=>d(_,w,x),onTouchend:x=>m(_,w,x),onTouchmove:x=>p(_,w,x),onMousedown:q(x=>d(_,w,x),["prevent"]),onMousemove:q(x=>p(_,w,x),["prevent"]),onMouseup:q(x=>m(_,w,x),["prevent"]),onClick:C[0]||(C[0]=x=>N(x)),class:ee([{"transition-all duration-500 ease-linear":!r.value},"relative p-3 size-full shadow-black shadow-xs bg-white dark:bg-gray-800 dark:text-white cursor-pointer"])},[h("span",go,[h("span",vo,[h("span",_o,[h("span",{textContent:O(_.title),class:"text-lg"},null,8,xo)]),h("span",{innerHTML:i(_.description),class:"text-md flex-1"},null,8,yo),h("span",wo,[h("span",{textContent:O(a(_.feed)),class:"flex-1"},null,8,bo),h("span",{textContent:O(_.published?y(n)("message.published")+" "+y(et)(_.published).fromNow():"")},null,8,Co)])]),h("span",{class:ee(["flex flex-col gap-2 sm:order-first min-w-[30%] lg:min-w-[310px] min-h-[200px] sm:min-h-auto md:min-h-[150px] lg:min-h-[150px]",{"min-h-auto sm:hidden":!_.enclosure_url}])},[_.enclosure_url?(I(),F("span",{key:0,class:"flex flex-1 w-full bg-cover bg-center bg-no-repeat",style:tn({"background-image":"url('"+_.enclosure_url+"')"})},null,4)):Q("",!0),h("span",Eo,[h("span",{textContent:O(a(_.feed)),class:"flex-1"},null,8,Ro),h("span",{textContent:O(_.published?y(n)("message.published")+" "+y(et)(_.published).fromNow():"")},null,8,ko)])],2),h("span",Ao,[h("span",{onClick:q(x=>m(_,w,x,"right"),["stop","prevent"]),class:"action-button hover:bg-green-700 hover:!border-green-700 group",ref_for:!0,ref:"bookmark-btn"},C[2]||(C[2]=[h("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-bookmark group-hover:invert-100 dark:invert-100"},null,-1)]),8,No),h("span",{onClick:q(x=>m(_,w,x,"left"),["stop","prevent"]),class:"action-button hover:bg-gray-300",ref_for:!0,ref:"hide-btn"},C[3]||(C[3]=[h("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-eye-slash dark:invert-100"},null,-1)]),8,So)])])],42,ho)],2))),128)),h("button",{type:"button",onClick:C[1]||(C[1]=_=>y(s).fetchMoreNews()),class:"action-button mt-2 mb-5 !px-4 gap-2 hover:bg-green-700 hover:!border-green-700 hover:text-white font-semibold duration-200 group flex flex-row items-center shadow-black shadow-xs bg-white hover:shadow-md hover:scale-[101%] dark:bg-gray-800 dark:!border-gray-900 dark:text-white cursor-pointer"},[C[4]||(C[4]=h("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-refresh group-hover:invert-100 dark:invert-100"},null,-1)),h("span",{textContent:O(y(n)("message.load_more_news"))},null,8,Oo)])]))}}),H={news:{path:"/news",component:ye,props:{request:"unread"}},reading:{path:"/news/reading",component:ye,props:{request:"reading"}},feeds:{path:"/news/feeds",component:Ms},filters:{path:"/news/filters",component:ao},viewed:{path:"/news/viewed",component:ye,props:{request:"hidden"}},default:{path:"/",component:ye,props:{request:"unread"}}},Io=ms({history:Kn(),routes:[H.news,H.reading,H.viewed,H.feeds,H.filters,H.default]}),Po={class:"bg-white mt-[-1px] shadow-xs z-7 border-b border-b-gray-300 px-4 sm:px-6 pb-2.5 w-full dark:bg-gray-900 dark:shadow-xl dark:border-b-black duration-200"},To={class:"flex flex-row flex-wrap justify-start items-center gap-3 w-full max-w-screen-xl mx-auto font-medium sm:mt-0",role:"menu"},Do={role:"menuitem"},Mo=["textContent"],Vo={role:"menuitem"},Fo=["textContent"],Lo={role:"menuitem",class:"relative"},Go=["textContent"],Bo=["textContent"],$o=["textContent"],Uo=["textContent"],Ho=X({__name:"NewsNavigation",setup(e){const{t}=Ce(),n=B(!1);return(s,o)=>(I(),F("nav",Po,[h("ul",To,[h("li",Do,[oe(y(ae),{to:y(H).news,onClick:o[0]||(o[0]=c=>n.value=!1),class:"navigation-button sm:px-4"},{default:pe(()=>[o[6]||(o[6]=h("span",{class:"navigation-icon svg-inbox"},null,-1)),h("span",{textContent:O(y(t)("message.unread"))},null,8,Mo)]),_:1},8,["to"])]),h("li",Vo,[oe(y(ae),{to:y(H).reading,onClick:o[1]||(o[1]=c=>n.value=!1),class:"navigation-button sm:px-4"},{default:pe(()=>[o[7]||(o[7]=h("span",{class:"navigation-icon svg-newspaper"},null,-1)),h("span",{textContent:O(y(t)("message.reading"))},null,8,Fo)]),_:1},8,["to"])]),h("li",Lo,[h("button",{type:"button",class:"navigation-button sm:px-4 cursor-pointer",onClick:o[2]||(o[2]=c=>n.value=!n.value),id:"preferences-btn"},[o[8]||(o[8]=h("span",{class:"navigation-icon svg-cog"},null,-1)),h("span",{textContent:O(y(t)("message.preferences"))},null,8,Go)]),h("div",{class:ee(["absolute hidden z-10 right-0 mt-2 w-48 bg-white shadow-black shadow-sm py-1 border-b-gray-900 dark:bg-gray-900",{"!block":n.value}]),role:"menu","aria-orientation":"vertical","aria-labelledby":"preferences-btn"},[oe(y(ae),{to:y(H).viewed,onClick:o[3]||(o[3]=c=>n.value=!1),class:"navigation-button px-4"},{default:pe(()=>[o[9]||(o[9]=h("span",{class:"navigation-icon svg-eye"},null,-1)),h("span",{textContent:O(y(t)("message.viewed"))},null,8,Bo)]),_:1},8,["to"]),oe(y(ae),{to:y(H).feeds,onClick:o[4]||(o[4]=c=>n.value=!1),class:"navigation-button px-4"},{default:pe(()=>[o[10]||(o[10]=h("span",{class:"navigation-icon svg-rss"},null,-1)),h("span",{textContent:O(y(t)("message.feeds"))},null,8,$o)]),_:1},8,["to"]),oe(y(ae),{to:y(H).filters,onClick:o[5]||(o[5]=c=>n.value=!1),class:"navigation-button px-4"},{default:pe(()=>[o[11]||(o[11]=h("span",{class:"navigation-icon svg-funnel"},null,-1)),h("span",{textContent:O(y(t)("message.filters"))},null,8,Uo)]),_:1},8,["to"])],2)])])]))}}),qo={class:"flex flex-col items-center"},jo=X({__name:"NewsApp",setup(e){const t=hs();return(n,s)=>(I(),F("div",qo,[oe(Ho),(I(),ge(y(Lt),{key:y(t).fullPath}))]))}});document.getElementById("news-app")&&nn(jo).use(ln).use(un()).use(Io).mount("#news-app")});export default Wo();
