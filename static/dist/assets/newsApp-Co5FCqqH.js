var jt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var H=(e,t,n)=>new Promise((s,o)=>{var l=a=>{try{u(n.next(a))}catch(i){o(i)}},r=a=>{try{u(n.throw(a))}catch(i){o(i)}},u=a=>a.done?s(a.value):Promise.resolve(a.value).then(l,r);u((n=n.apply(e,t)).next())});import{R as ne,S as Wt,T as zt,U as Kt,V as Re,C as Y,J as y,W as Qt,X as Xt,B as K,Y as bt,Z as Te,w as q,y as Jt,_ as Yt,$ as wt,a0 as Ct,D as L,F as T,M as h,a1 as W,a2 as Ce,I,a3 as Ge,z as He,H as Q,Q as ge,K as je,L as We,G as J,a4 as Zt,a5 as en,a6 as tn,O as oe,a7 as pe,v as nn}from"../index-Cms_OnbX.js";import{d as ze,s as sn,b as Et,f as Rt,r as Ke,u as _e,_ as kt,e as on,p as rn,c as an,m as st,i as ln,a as un}from"../AddButton.vue_vue_type_script_setup_true_lang-Jn-eejVs.js";var Xo=jt(ue=>{/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const re=typeof document!="undefined";function Nt(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function cn(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Nt(e.default)}const S=Object.assign;function Me(e,t){const n={};for(const s in t){const o=t[s];n[s]=z(o)?o.map(e):e(o)}return n}const he=()=>{},z=Array.isArray;function ot(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}const At=/#/g,dn=/&/g,fn=/\//g,pn=/=/g,mn=/\?/g,Ot=/\+/g,hn=/%5B/g,gn=/%5D/g,St=/%5E/g,vn=/%60/g,It=/%7B/g,_n=/%7C/g,Pt=/%7D/g,xn=/%20/g;function Qe(e){return e==null?"":encodeURI(""+e).replace(_n,"|").replace(hn,"[").replace(gn,"]")}function yn(e){return Qe(e).replace(It,"{").replace(Pt,"}").replace(St,"^")}function Be(e){return Qe(e).replace(Ot,"%2B").replace(xn,"+").replace(At,"%23").replace(dn,"%26").replace(vn,"`").replace(It,"{").replace(Pt,"}").replace(St,"^")}function bn(e){return Be(e).replace(pn,"%3D")}function wn(e){return Qe(e).replace(At,"%23").replace(mn,"%3F")}function Cn(e){return wn(e).replace(fn,"%2F")}function ve(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch(t){}return""+e}const En=/\/$/,Rn=e=>e.replace(En,"");function De(e,t,n="/"){let s,o={},l="",r="";const u=t.indexOf("#");let a=t.indexOf("?");return a=u>=0&&a>u?-1:a,a>=0&&(s=t.slice(0,a),l=t.slice(a,u>0?u:t.length),o=e(l.slice(1))),u>=0&&(s=s||t.slice(0,u),r=t.slice(u,t.length)),s=On(s!=null?s:t,n),{fullPath:s+l+r,path:s,query:o,hash:ve(r)}}function kn(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function rt(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Nn(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&ie(t.matched[s],n.matched[o])&&Tt(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ie(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Tt(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!An(e[n],t[n]))return!1;return!0}function An(e,t){return z(e)?at(e,t):z(t)?at(t,e):(e==null?void 0:e.valueOf())===(t==null?void 0:t.valueOf())}function at(e,t){return z(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function On(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let l=n.length-1,r,u;for(r=0;r<s.length;r++)if(u=s[r],u!==".")if(u==="..")l>1&&l--;else break;return n.slice(0,l).join("/")+"/"+s.slice(r).join("/")}const Z={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let $e=function(e){return e.pop="pop",e.push="push",e}({}),Ve=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function Sn(e){if(!e)if(re){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Rn(e)}const In=/^[^#]+#/;function Pn(e,t){return e.replace(In,"#")+t}function Tn(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const ke=()=>({left:window.scrollX,top:window.scrollY});function Mn(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Tn(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function it(e,t){return(history.state?history.state.position-t:-1)+e}const Ue=new Map;function Dn(e,t){Ue.set(e,t)}function Vn(e){const t=Ue.get(e);return Ue.delete(e),t}function Fn(e){return typeof e=="string"||e&&typeof e=="object"}function Mt(e){return typeof e=="string"||typeof e=="symbol"}let M=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const Dt=Symbol("");M.MATCHER_NOT_FOUND+"",M.NAVIGATION_GUARD_REDIRECT+"",M.NAVIGATION_ABORTED+"",M.NAVIGATION_CANCELLED+"",M.NAVIGATION_DUPLICATED+"";function le(e,t){return S(new Error,{type:e,[Dt]:!0},t)}function X(e,t){return e instanceof Error&&Dt in e&&(t==null||!!(e.type&t))}const Ln=["params","query","hash"];function Gn(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of Ln)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function Bn(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<n.length;++s){const o=n[s].replace(Ot," "),l=o.indexOf("="),r=ve(l<0?o:o.slice(0,l)),u=l<0?null:ve(o.slice(l+1));if(r in t){let a=t[r];z(a)||(a=t[r]=[a]),a.push(u)}else t[r]=u}return t}function lt(e){let t="";for(let n in e){const s=e[n];if(n=bn(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(z(s)?s.map(o=>o&&Be(o)):[s&&Be(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function $n(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=z(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const Vt=Symbol(""),ut=Symbol(""),Xe=Symbol(""),Je=Symbol(""),qe=Symbol("");function me(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Un(e,t,n){const s=()=>{e[t].delete(n)};Wt(s),zt(s),Kt(()=>{e[t].add(n)}),e[t].add(n)}function qn(e){const t=ne(Vt,{}).value;t&&Un(t,"leaveGuards",e)}function ee(e,t,n,s,o,l=r=>r()){const r=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((u,a)=>{const i=p=>{p===!1?a(le(M.NAVIGATION_ABORTED,{from:n,to:t})):p instanceof Error?a(p):Fn(p)?a(le(M.NAVIGATION_GUARD_REDIRECT,{from:t,to:p})):(r&&s.enterCallbacks[o]===r&&typeof p=="function"&&r.push(p),u())},f=l(()=>e.call(s&&s.instances[o],t,n,i));let c=Promise.resolve(f);e.length<3&&(c=c.then(i)),c.catch(p=>a(p))})}function Fe(e,t,n,s,o=l=>l()){const l=[];for(const r of e)for(const u in r.components){let a=r.components[u];if(!(t!=="beforeRouteEnter"&&!r.instances[u]))if(Nt(a)){const i=(a.__vccOpts||a)[t];i&&l.push(ee(i,n,s,r,u,o))}else{let i=a();l.push(()=>i.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${u}" at "${r.path}"`);const c=cn(f)?f.default:f;r.mods[u]=f,r.components[u]=c;const p=(c.__vccOpts||c)[t];return p&&ee(p,n,s,r,u,o)()}))}}return l}function Hn(e,t){const n=[],s=[],o=[],l=Math.max(t.matched.length,e.matched.length);for(let r=0;r<l;r++){const u=t.matched[r];u&&(e.matched.find(i=>ie(i,u))?s.push(u):n.push(u));const a=e.matched[r];a&&(t.matched.find(i=>ie(i,a))||o.push(a))}return[n,s,o]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let jn=()=>location.protocol+"//"+location.host;function Ft(e,t){const{pathname:n,search:s,hash:o}=t,l=e.indexOf("#");if(l>-1){let r=o.includes(e.slice(l))?e.slice(l).length:1,u=o.slice(r);return u[0]!=="/"&&(u="/"+u),rt(u,"")}return rt(n,e)+s+o}function Wn(e,t,n,s){let o=[],l=[],r=null;const u=({state:p})=>{const m=Ft(e,location),R=n.value,N=t.value;let P=0;if(p){if(n.value=m,t.value=p,r&&r===R){r=null;return}P=N?p.position-N.position:0}else s(m);o.forEach(w=>{w(n.value,R,{delta:P,type:$e.pop,direction:P?P>0?Ve.forward:Ve.back:Ve.unknown})})};function a(){r=n.value}function i(p){o.push(p);const m=()=>{const R=o.indexOf(p);R>-1&&o.splice(R,1)};return l.push(m),m}function f(){if(document.visibilityState==="hidden"){const{history:p}=window;if(!p.state)return;p.replaceState(S({},p.state,{scroll:ke()}),"")}}function c(){for(const p of l)p();l=[],window.removeEventListener("popstate",u),window.removeEventListener("pagehide",f),document.removeEventListener("visibilitychange",f)}return window.addEventListener("popstate",u),window.addEventListener("pagehide",f),document.addEventListener("visibilitychange",f),{pauseListeners:a,listen:i,destroy:c}}function ct(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?ke():null}}function zn(e){const{history:t,location:n}=window,s={value:Ft(e,n)},o={value:t.state};o.value||l(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(a,i,f){const c=e.indexOf("#"),p=c>-1?(n.host&&document.querySelector("base")?e:e.slice(c))+a:jn()+e+a;try{t[f?"replaceState":"pushState"](i,"",p),o.value=i}catch(m){console.error(m),n[f?"replace":"assign"](p)}}function r(a,i){l(a,S({},t.state,ct(o.value.back,a,o.value.forward,!0),i,{position:o.value.position}),!0),s.value=a}function u(a,i){const f=S({},o.value,t.state,{forward:a,scroll:ke()});l(f.current,f,!0),l(a,S({},ct(s.value,a,null),{position:f.position+1},i),!1),s.value=a}return{location:s,state:o,push:u,replace:r}}function Kn(e){e=Sn(e);const t=zn(e),n=Wn(e,t.state,t.location,t.replace);function s(l,r=!0){r||n.pauseListeners(),history.go(l)}const o=S({location:"",base:e,go:s,createHref:Pn.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}let te=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var F=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(F||{});const Qn={type:te.Static,value:""},Xn=/[a-zA-Z0-9_]/;function Jn(e){if(!e)return[[]];if(e==="/")return[[Qn]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${i}": ${m}`)}let n=F.Static,s=n;const o=[];let l;function r(){l&&o.push(l),l=[]}let u=0,a,i="",f="";function c(){i&&(n===F.Static?l.push({type:te.Static,value:i}):n===F.Param||n===F.ParamRegExp||n===F.ParamRegExpEnd?(l.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${i}) must be alone in its segment. eg: '/:ids+.`),l.push({type:te.Param,value:i,regexp:f,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),i="")}function p(){i+=a}for(;u<e.length;){if(a=e[u++],a==="\\"&&n!==F.ParamRegExp){s=n,n=F.EscapeNext;continue}switch(n){case F.Static:a==="/"?(i&&c(),r()):a===":"?(c(),n=F.Param):p();break;case F.EscapeNext:p(),n=s;break;case F.Param:a==="("?n=F.ParamRegExp:Xn.test(a)?p():(c(),n=F.Static,a!=="*"&&a!=="?"&&a!=="+"&&u--);break;case F.ParamRegExp:a===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+a:n=F.ParamRegExpEnd:f+=a;break;case F.ParamRegExpEnd:c(),n=F.Static,a!=="*"&&a!=="?"&&a!=="+"&&u--,f="";break;default:t("Unknown state");break}}return n===F.ParamRegExp&&t(`Unfinished custom RegExp for param "${i}"`),c(),r(),o}const dt="[^/]+?",Yn={sensitive:!1,strict:!1,start:!0,end:!0};var B=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(B||{});const Zn=/[.+*?^${}()[\]/\\]/g;function es(e,t){const n=S({},Yn,t),s=[];let o=n.start?"^":"";const l=[];for(const i of e){const f=i.length?[]:[B.Root];n.strict&&!i.length&&(o+="/");for(let c=0;c<i.length;c++){const p=i[c];let m=B.Segment+(n.sensitive?B.BonusCaseSensitive:0);if(p.type===te.Static)c||(o+="/"),o+=p.value.replace(Zn,"\\$&"),m+=B.Static;else if(p.type===te.Param){const{value:R,repeatable:N,optional:P,regexp:w}=p;l.push({name:R,repeatable:N,optional:P});const x=w||dt;if(x!==dt){m+=B.BonusCustomRegExp;try{`${x}`}catch(O){throw new Error(`Invalid custom RegExp for param "${R}" (${x}): `+O.message)}}let g=N?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;c||(g=P&&i.length<2?`(?:/${g})`:"/"+g),P&&(g+="?"),o+=g,m+=B.Dynamic,P&&(m+=B.BonusOptional),N&&(m+=B.BonusRepeatable),x===".*"&&(m+=B.BonusWildcard)}f.push(m)}s.push(f)}if(n.strict&&n.end){const i=s.length-1;s[i][s[i].length-1]+=B.BonusStrict}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const r=new RegExp(o,n.sensitive?"":"i");function u(i){const f=i.match(r),c={};if(!f)return null;for(let p=1;p<f.length;p++){const m=f[p]||"",R=l[p-1];c[R.name]=m&&R.repeatable?m.split("/"):m}return c}function a(i){let f="",c=!1;for(const p of e){(!c||!f.endsWith("/"))&&(f+="/"),c=!1;for(const m of p)if(m.type===te.Static)f+=m.value;else if(m.type===te.Param){const{value:R,repeatable:N,optional:P}=m,w=R in i?i[R]:"";if(z(w)&&!N)throw new Error(`Provided param "${R}" is an array but it is not repeatable (* or + modifiers)`);const x=z(w)?w.join("/"):w;if(!x)if(P)p.length<2&&(f.endsWith("/")?f=f.slice(0,-1):c=!0);else throw new Error(`Missing required param "${R}"`);f+=x}}return f||"/"}return{re:r,score:s,keys:l,parse:u,stringify:a}}function ts(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===B.Static+B.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===B.Static+B.Segment?1:-1:0}function Lt(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const l=ts(s[n],o[n]);if(l)return l;n++}if(Math.abs(o.length-s.length)===1){if(ft(s))return 1;if(ft(o))return-1}return o.length-s.length}function ft(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ns={strict:!1,end:!0,sensitive:!1};function ss(e,t,n){const s=es(Jn(e.path),n),o=S(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function os(e,t){const n=[],s=new Map;t=ot(ns,t);function o(c){return s.get(c)}function l(c,p,m){const R=!m,N=mt(c);N.aliasOf=m&&m.record;const P=ot(t,c),w=[N];if("alias"in c){const O=typeof c.alias=="string"?[c.alias]:c.alias;for(const C of O)w.push(mt(S({},N,{components:m?m.record.components:N.components,path:C,aliasOf:m?m.record:N})))}let x,g;for(const O of w){const{path:C}=O;if(p&&C[0]!=="/"){const G=p.record.path,$=G[G.length-1]==="/"?"":"/";O.path=p.record.path+(C&&$+C)}if(x=ss(O,p,P),m?m.alias.push(x):(g=g||x,g!==x&&g.alias.push(x),R&&c.name&&!ht(x)&&r(c.name)),Gt(x)&&a(x),N.children){const G=N.children;for(let $=0;$<G.length;$++)l(G[$],x,m&&m.children[$])}m=m||x}return g?()=>{r(g)}:he}function r(c){if(Mt(c)){const p=s.get(c);p&&(s.delete(c),n.splice(n.indexOf(p),1),p.children.forEach(r),p.alias.forEach(r))}else{const p=n.indexOf(c);p>-1&&(n.splice(p,1),c.record.name&&s.delete(c.record.name),c.children.forEach(r),c.alias.forEach(r))}}function u(){return n}function a(c){const p=is(c,n);n.splice(p,0,c),c.record.name&&!ht(c)&&s.set(c.record.name,c)}function i(c,p){let m,R={},N,P;if("name"in c&&c.name){if(m=s.get(c.name),!m)throw le(M.MATCHER_NOT_FOUND,{location:c});P=m.record.name,R=S(pt(p.params,m.keys.filter(g=>!g.optional).concat(m.parent?m.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),c.params&&pt(c.params,m.keys.map(g=>g.name))),N=m.stringify(R)}else if(c.path!=null)N=c.path,m=n.find(g=>g.re.test(N)),m&&(R=m.parse(N),P=m.record.name);else{if(m=p.name?s.get(p.name):n.find(g=>g.re.test(p.path)),!m)throw le(M.MATCHER_NOT_FOUND,{location:c,currentLocation:p});P=m.record.name,R=S({},p.params,c.params),N=m.stringify(R)}const w=[];let x=m;for(;x;)w.unshift(x.record),x=x.parent;return{name:P,path:N,params:R,matched:w,meta:as(w)}}e.forEach(c=>l(c));function f(){n.length=0,s.clear()}return{addRoute:l,resolve:i,removeRoute:r,clearRoutes:f,getRoutes:u,getRecordMatcher:o}}function pt(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function mt(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:rs(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function rs(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function ht(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function as(e){return e.reduce((t,n)=>S(t,n.meta),{})}function is(e,t){let n=0,s=t.length;for(;n!==s;){const l=n+s>>1;Lt(e,t[l])<0?s=l:n=l+1}const o=ls(e);return o&&(s=t.lastIndexOf(o,s-1)),s}function ls(e){let t=e;for(;t=t.parent;)if(Gt(t)&&Lt(e,t)===0)return t}function Gt({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function gt(e){const t=ne(Xe),n=ne(Je),s=K(()=>{const a=y(e.to);return t.resolve(a)}),o=K(()=>{const{matched:a}=s.value,{length:i}=a,f=a[i-1],c=n.matched;if(!f||!c.length)return-1;const p=c.findIndex(ie.bind(null,f));if(p>-1)return p;const m=vt(a[i-2]);return i>1&&vt(f)===m&&c[c.length-1].path!==m?c.findIndex(ie.bind(null,a[i-2])):p}),l=K(()=>o.value>-1&&fs(n.params,s.value.params)),r=K(()=>o.value>-1&&o.value===n.matched.length-1&&Tt(n.params,s.value.params));function u(a={}){if(ds(a)){const i=t[y(e.replace)?"replace":"push"](y(e.to)).catch(he);return e.viewTransition&&typeof document!="undefined"&&"startViewTransition"in document&&document.startViewTransition(()=>i),i}return Promise.resolve()}return{route:s,href:K(()=>s.value.href),isActive:l,isExactActive:r,navigate:u}}function us(e){return e.length===1?e[0]:e}const cs=Y({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:gt,setup(e,{slots:t}){const n=Xt(gt(e)),{options:s}=ne(Xe),o=K(()=>({[_t(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[_t(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const l=t.default&&us(t.default(n));return e.custom?l:bt("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},l)}}}),ae=cs;function ds(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function fs(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!z(o)||o.length!==s.length||s.some((l,r)=>l.valueOf()!==o[r].valueOf()))return!1}return!0}function vt(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const _t=(e,t,n)=>e!=null?e:t!=null?t:n,ps=Y({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=ne(qe),o=K(()=>e.route||s.value),l=ne(ut,0),r=K(()=>{let i=y(l);const{matched:f}=o.value;let c;for(;(c=f[i])&&!c.components;)i++;return i}),u=K(()=>o.value.matched[r.value]);Te(ut,K(()=>r.value+1)),Te(Vt,u),Te(qe,o);const a=q();return Jt(()=>[a.value,u.value,e.name],([i,f,c],[p,m,R])=>{f&&(f.instances[c]=i,m&&m!==f&&i&&i===p&&(f.leaveGuards.size||(f.leaveGuards=m.leaveGuards),f.updateGuards.size||(f.updateGuards=m.updateGuards))),i&&f&&(!m||!ie(f,m)||!p)&&(f.enterCallbacks[c]||[]).forEach(N=>N(i))},{flush:"post"}),()=>{const i=o.value,f=e.name,c=u.value,p=c&&c.components[f];if(!p)return xt(n.default,{Component:p,route:i});const m=c.props[f],R=m?m===!0?i.params:typeof m=="function"?m(i):m:null,P=bt(p,S({},R,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(c.instances[f]=null)},ref:a}));return xt(n.default,{Component:P,route:i})||P}}});function xt(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Bt=ps;function ms(e){const t=os(e.routes,e),n=e.parseQuery||Bn,s=e.stringifyQuery||lt,o=e.history,l=me(),r=me(),u=me(),a=Re(Z);let i=Z;re&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Me.bind(null,d=>""+d),c=Me.bind(null,Cn),p=Me.bind(null,ve);function m(d,_){let v,b;return Mt(d)?(v=t.getRecordMatcher(d),b=_):b=d,t.addRoute(b,v)}function R(d){const _=t.getRecordMatcher(d);_&&t.removeRoute(_)}function N(){return t.getRoutes().map(d=>d.record)}function P(d){return!!t.getRecordMatcher(d)}function w(d,_){if(_=S({},_||a.value),typeof d=="string"){const E=De(n,d,_.path),V=t.resolve({path:E.path},_),fe=o.createHref(E.fullPath);return S(E,V,{params:p(V.params),hash:ve(E.hash),redirectedFrom:void 0,href:fe})}let v;if(d.path!=null)v=S({},d,{path:De(n,d.path,_.path).path});else{const E=S({},d.params);for(const V in E)E[V]==null&&delete E[V];v=S({},d,{params:c(E)}),_.params=c(_.params)}const b=t.resolve(v,_),A=d.hash||"";b.params=f(p(b.params));const D=kn(s,S({},d,{hash:yn(A),path:b.path})),k=o.createHref(D);return S({fullPath:D,hash:A,query:s===lt?$n(d.query):d.query||{}},b,{redirectedFrom:void 0,href:k})}function x(d){return typeof d=="string"?De(n,d,a.value.path):S({},d)}function g(d,_){if(i!==d)return le(M.NAVIGATION_CANCELLED,{from:_,to:d})}function O(d){return $(d)}function C(d){return O(S(x(d),{replace:!0}))}function G(d,_){const v=d.matched[d.matched.length-1];if(v&&v.redirect){const{redirect:b}=v;let A=typeof b=="function"?b(d,_):b;return typeof A=="string"&&(A=A.includes("?")||A.includes("#")?A=x(A):{path:A},A.params={}),S({query:d.query,hash:d.hash,params:A.path!=null?{}:d.params},A)}}function $(d,_){const v=i=w(d),b=a.value,A=d.state,D=d.force,k=d.replace===!0,E=G(v,b);if(E)return $(S(x(E),{state:typeof E=="object"?S({},A,E.state):A,force:D,replace:k}),_||v);const V=v;V.redirectedFrom=_;let fe;return!D&&Nn(s,b,v)&&(fe=le(M.NAVIGATION_DUPLICATED,{to:V,from:b}),nt(b,b,!0,!1)),(fe?Promise.resolve(fe):Ye(V,b)).catch(U=>X(U)?X(U,M.NAVIGATION_GUARD_REDIRECT)?U:Se(U):Oe(U,V,b)).then(U=>{if(U){if(X(U,M.NAVIGATION_GUARD_REDIRECT))return $(S({replace:k},x(U.to),{state:typeof U.to=="object"?S({},A,U.to.state):A,force:D}),_||V)}else U=et(V,b,!0,k,A);return Ze(V,b,U),U})}function Ut(d,_){const v=g(d,_);return v?Promise.reject(v):Promise.resolve()}function Ne(d){const _=ye.values().next().value;return _&&typeof _.runWithContext=="function"?_.runWithContext(d):d()}function Ye(d,_){let v;const[b,A,D]=Hn(d,_);v=Fe(b.reverse(),"beforeRouteLeave",d,_);for(const E of b)E.leaveGuards.forEach(V=>{v.push(ee(V,d,_))});const k=Ut.bind(null,d,_);return v.push(k),se(v).then(()=>{v=[];for(const E of l.list())v.push(ee(E,d,_));return v.push(k),se(v)}).then(()=>{v=Fe(A,"beforeRouteUpdate",d,_);for(const E of A)E.updateGuards.forEach(V=>{v.push(ee(V,d,_))});return v.push(k),se(v)}).then(()=>{v=[];for(const E of D)if(E.beforeEnter)if(z(E.beforeEnter))for(const V of E.beforeEnter)v.push(ee(V,d,_));else v.push(ee(E.beforeEnter,d,_));return v.push(k),se(v)}).then(()=>(d.matched.forEach(E=>E.enterCallbacks={}),v=Fe(D,"beforeRouteEnter",d,_,Ne),v.push(k),se(v))).then(()=>{v=[];for(const E of r.list())v.push(ee(E,d,_));return v.push(k),se(v)}).catch(E=>X(E,M.NAVIGATION_CANCELLED)?E:Promise.reject(E))}function Ze(d,_,v){u.list().forEach(b=>Ne(()=>b(d,_,v)))}function et(d,_,v,b,A){const D=g(d,_);if(D)return D;const k=_===Z,E=re?history.state:{};v&&(b||k?o.replace(d.fullPath,S({scroll:k&&E&&E.scroll},A)):o.push(d.fullPath,A)),a.value=d,nt(d,_,v,k),Se()}let ce;function qt(){ce||(ce=o.listen((d,_,v)=>{if(!de.listening)return;const b=w(d),A=G(b,de.currentRoute.value);if(A){$(S(A,{replace:!0,force:!0}),b).catch(he);return}i=b;const D=a.value;re&&Dn(it(D.fullPath,v.delta),ke()),Ye(b,D).catch(k=>X(k,M.NAVIGATION_ABORTED|M.NAVIGATION_CANCELLED)?k:X(k,M.NAVIGATION_GUARD_REDIRECT)?($(S(x(k.to),{force:!0}),b).then(E=>{X(E,M.NAVIGATION_ABORTED|M.NAVIGATION_DUPLICATED)&&!v.delta&&v.type===$e.pop&&o.go(-1,!1)}).catch(he),Promise.reject()):(v.delta&&o.go(-v.delta,!1),Oe(k,b,D))).then(k=>{k=k||et(b,D,!1),k&&(v.delta&&!X(k,M.NAVIGATION_CANCELLED)?o.go(-v.delta,!1):v.type===$e.pop&&X(k,M.NAVIGATION_ABORTED|M.NAVIGATION_DUPLICATED)&&o.go(-1,!1)),Ze(b,D,k)}).catch(he)}))}let Ae=me(),tt=me(),xe;function Oe(d,_,v){Se(d);const b=tt.list();return b.length?b.forEach(A=>A(d,_,v)):console.error(d),Promise.reject(d)}function Ht(){return xe&&a.value!==Z?Promise.resolve():new Promise((d,_)=>{Ae.add([d,_])})}function Se(d){return xe||(xe=!d,qt(),Ae.list().forEach(([_,v])=>d?v(d):_()),Ae.reset()),d}function nt(d,_,v,b){const{scrollBehavior:A}=e;if(!re||!A)return Promise.resolve();const D=!v&&Vn(it(d.fullPath,0))||(b||!v)&&history.state&&history.state.scroll||null;return Yt().then(()=>A(d,_,D)).then(k=>k&&Mn(k)).catch(k=>Oe(k,d,_))}const Ie=d=>o.go(d);let Pe;const ye=new Set,de={currentRoute:a,listening:!0,addRoute:m,removeRoute:R,clearRoutes:t.clearRoutes,hasRoute:P,getRoutes:N,resolve:w,options:e,push:O,replace:C,go:Ie,back:()=>Ie(-1),forward:()=>Ie(1),beforeEach:l.add,beforeResolve:r.add,afterEach:u.add,onError:tt.add,isReady:Ht,install(d){d.component("RouterLink",ae),d.component("RouterView",Bt),d.config.globalProperties.$router=de,Object.defineProperty(d.config.globalProperties,"$route",{enumerable:!0,get:()=>y(a)}),re&&!Pe&&a.value===Z&&(Pe=!0,O(o.location).catch(b=>{}));const _={};for(const b in Z)Object.defineProperty(_,b,{get:()=>a.value[b],enumerable:!0});d.provide(Xe,de),d.provide(Je,Qt(_)),d.provide(qe,a);const v=d.unmount;ye.add(d),d.unmount=function(){ye.delete(d),ye.size<1&&(i=Z,ce&&ce(),ce=null,a.value=Z,Pe=!1,xe=!1),v()}}};function se(d){return d.reduce((_,v)=>_.then(()=>Ne(v)),Promise.resolve())}return de}function hs(e){return ne(Je)}const $t=ze("feed",()=>{const e=q([]),t=(r=null)=>"/feed/"+(r&&r.id?r.id+"/":""),n=r=>Ke(r,e,u=>r.id&&u.id?r.id==u.id:r.url==u.url);return{feeds:e,loadFeeds:()=>H(ue,null,function*(){return(yield Rt(t())).forEach(n)}),removeFeed:r=>Et(r,e,t(r),u=>r.id&&u.id?u.id==r.id:r.url==u.url),saveFeed:r=>sn(r,e,t(r),u=>r.id&&u.id?u.id==r.id:r.url==u.url)}}),gs={class:"flex-1 lg:flex-2 my-3 mx-3 md:ml-3 px-4 py-3.5 bg-white min-h-screen shadow-[0px_0px_5px_-2px_#000] dark:bg-gray-800 dark:text-white"},vs={class:"mt-3"},_s=["textContent"],xs=["placeholder"],ys={class:"mt-2"},bs=["textContent"],ws=["placeholder"],Cs={class:"mt-6"},Es=["textContent"],Rs=Y({__name:"FeedForm",props:{modelValue:{required:!0},modelModifiers:{}},emits:wt(["cancel","submit"],["update:modelValue"]),setup(e,{emit:t}){const{t:n}=_e(),s=Ct(e,"modelValue"),o=t,l=q(s.value.title),r=q(s.value.url),u=()=>{s.value.title=l.value.trim(),s.value.url=r.value.trim(),o("submit")};return(a,i)=>(T(),L("div",gs,[h("form",{name:"feedForm",onSubmit:W(u,["prevent"])},[h("p",null,[h("button",{type:"button",onClick:i[0]||(i[0]=f=>o("cancel")),class:"action-button hover:bg-gray-300",ref:"cancel-btn"},i[4]||(i[4]=[h("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-arrow-left dark:invert-100 dark:hover:invert-0"},null,-1)]),512)]),h("p",vs,[h("label",{for:"id_title",textContent:I(y(n)("message.name"))},null,8,_s),Ce(h("input",{id:"id_title",name:"title",type:"text","onUpdate:modelValue":i[1]||(i[1]=f=>l.value=f),placeholder:y(n)("message.feed_title_placeholder"),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,8,xs),[[Ge,l.value]])]),h("p",ys,[h("label",{for:"id_url",textContent:I(y(n)("message.url"))},null,8,bs),Ce(h("input",{id:"id_url",name:"url",type:"url","onUpdate:modelValue":i[2]||(i[2]=f=>r.value=f),placeholder:y(n)("message.feed_url_placeholder"),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,8,ws),[[Ge,r.value]])]),h("p",Cs,[h("button",{type:"submit",onClick:i[3]||(i[3]=W(f=>u(),["stop"])),textContent:I(y(n)("message.save")),ref:"submit-btn",class:"bg-green-700 hover:bg-green-600 text-white transition-colors duration-200 hover:cursor-pointer font-bold py-3 px-6 rounded-lg min-w-xs sm:min-w-sm"},null,8,Es)])],32)]))}}),ks={class:"flex flex-row w-full max-w-screen-xl"},Ns={key:0,class:"flex-1 md:-ml-6 md:pl-6"},As=["onClick"],Os={class:"flex-1 break-all"},Ss={class:"font-semibold flex flex-row justify-between items-start gap-2"},Is=["textContent"],Ps=["textContent"],Ts=["onClick"],Ms=640,Ds=Y({__name:"FeedList",setup(e){const{width:t}=He(),n=$t(),s=Re(null);function o(){return H(this,null,function*(){s.value={title:"",url:""}})}function l(){return H(this,null,function*(){const r=s.value;s.value=null,yield n.saveFeed(r)})}return n.loadFeeds(),(r,u)=>(T(),L("div",ks,[(!s.value||y(t)>=Ms)&&y(n).feeds.length?(T(),L("div",Ns,[(T(!0),L(je,null,We(y(n).feeds,a=>(T(),L("div",{key:a.id,onClick:i=>s.value=a,class:J([{"!shadow-lg !scale-[102%]":s.value&&a.id===s.value.id},"flex flex-row items-center my-3 p-3 shadow-black shadow-xs bg-white hover:shadow-md hover:scale-[101%] dark:bg-gray-800 dark:text-white duration-200 cursor-pointer"])},[h("div",Os,[h("h2",Ss,[h("span",{textContent:I(a.title),class:"text-lg flex-1"},null,8,Is)]),h("p",{class:"flex flex-row gap-1 items-center",textContent:I(a.url)},null,8,Ps)]),h("button",{type:"button",onClick:W(i=>y(n).removeFeed(a),["stop"]),class:"action-button hover:bg-red-700 hover:!border-red-700 group ml-auto",ref_for:!0,ref:"delete-btn"},u[3]||(u[3]=[h("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-trash dark:invert-100 group-hover:invert-100"},null,-1)]),8,Ts)],10,As))),128))])):Q("",!0),s.value?(T(),ge(Rs,{key:s.value.id||"new",modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=a=>s.value=a),onCancel:u[1]||(u[1]=a=>s.value=null),onSubmit:u[2]||(u[2]=a=>l())},null,8,["modelValue"])):Q("",!0),s.value?Q("",!0):(T(),ge(kt,{key:2,"add-item":o}))]))}}),Vs=ze("filter",()=>{const e=q([]),t=(r=null)=>"/filter/"+(r&&r.id?r.id+"/":""),n=()=>H(ue,null,function*(){return(yield Rt(t())).forEach(s)}),s=r=>Ke(r,e,u=>r.id&&u.id?r.id==u.id:r.entry==u.entry&&r.part==u.part&&r.feed_id==u.feed_id),o=r=>Et(r,e,t(r),u=>r.id&&u.id?r.id==u.id:r.entry==u.entry&&r.part==u.part&&r.feed_id==u.feed_id);function l(r){return H(this,null,function*(){r.id||(r.entry=r.entry.toLowerCase(),e.value.unshift(r));try{s(yield on(r,"post",t(r)))}catch(u){r.id||e.value.splice(0,1)}})}return{filters:e,loadFilters:n,removeFilter:o,saveFilter:l}}),Fs={class:"flex-1 lg:flex-2 my-3 mx-3 md:!ml-0 px-4 py-3.5 bg-white min-h-screen shadow-[0px_0px_5px_-2px_#000] dark:bg-gray-800 dark:text-white"},Ls={class:"mt-3"},Gs=["textContent"],Bs=["placeholder"],$s={class:"mt-2"},Us=["textContent"],qs=["textContent"],Hs=["textContent"],js=["textContent"],Ws=["textContent"],zs={class:"mt-6"},Ks=["textContent"],Qs=Y({__name:"FilterForm",props:{modelValue:{required:!0},modelModifiers:{}},emits:wt(["cancel","submit"],["update:modelValue"]),setup(e,{emit:t}){const{t:n}=_e(),s=Ct(e,"modelValue"),o=t,l=q(s.value.entry),r=q(s.value.part),u=()=>{s.value.entry=l.value.trim(),s.value.part=r.value.trim(),o("submit")};return(a,i)=>(T(),L("div",Fs,[h("form",{name:"filterForm",onSubmit:W(u,["prevent"])},[h("p",null,[h("button",{type:"button",onClick:i[0]||(i[0]=f=>o("cancel")),class:"action-button hover:bg-gray-300",ref:"cancel-btn"},i[4]||(i[4]=[h("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-arrow-left dark:invert-100 dark:hover:invert-0"},null,-1)]),512)]),h("p",Ls,[h("label",{for:"id_entry",textContent:I(y(n)("message.word"))},null,8,Gs),Ce(h("input",{id:"id_entry",name:"entry",type:"text","onUpdate:modelValue":i[1]||(i[1]=f=>l.value=f),placeholder:y(n)("message.filter_entry_placeholder"),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,8,Bs),[[Ge,l.value]])]),h("p",$s,[h("label",{for:"id_part",textContent:I(y(n)("message.part_of_word"))},null,8,Us),Ce(h("select",{id:"id_part",name:"part","onUpdate:modelValue":i[2]||(i[2]=f=>r.value=f),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},[h("option",{value:"start",textContent:I(y(n)("message.word_start"))},null,8,qs),h("option",{value:"end",textContent:I(y(n)("message.word_end"))},null,8,Hs),h("option",{value:"full",textContent:I(y(n)("message.word_full"))},null,8,js),h("option",{value:"part",textContent:I(y(n)("message.word_part"))},null,8,Ws)],512),[[Zt,r.value]])]),h("p",zs,[h("button",{type:"submit",onClick:i[3]||(i[3]=W(f=>u(),["stop"])),textContent:I(y(n)("message.save")),ref:"submit-btn",class:"bg-green-700 hover:bg-green-600 text-white transition-colors duration-200 hover:cursor-pointer font-bold py-3 px-6 rounded-lg min-w-xs sm:min-w-sm"},null,8,Ks)])],32)]))}}),Xs={class:"flex flex-row w-full max-w-screen-xl"},Js={key:0,class:"flex-1 md:-ml-6 md:pl-6"},Ys=["onClick"],Zs={class:"flex-1"},eo={class:"font-semibold flex flex-row justify-between items-start gap-2"},to=["textContent"],no=["textContent"],so=["textContent"],oo=["onClick"],ro=768,ao=Y({__name:"FilterList",setup(e){const{width:t}=He(),n=Vs(),s=Re(null),{t:o}=_e();function l(){return H(this,null,function*(){s.value={entry:"",part:"start"}})}function r(){return H(this,null,function*(){const u=s.value;s.value=null,yield n.saveFilter(u)})}return n.loadFilters(),(u,a)=>(T(),L("div",Xs,[(!s.value||y(t)>=ro)&&y(n).filters.length?(T(),L("div",Js,[(T(!0),L(je,null,We(y(n).filters,i=>(T(),L("div",{key:i.id,onClick:f=>s.value=i,class:J([{"!shadow-lg !scale-[102%]":s.value&&i.id===s.value.id},"flex flex-row items-center my-3 p-3 md:mx-4 shadow-black shadow-xs bg-white hover:shadow-md hover:scale-[101%] dark:bg-gray-800 dark:text-white duration-200 cursor-pointer break-words"])},[h("div",Zs,[h("h2",eo,[h("span",{textContent:I(i.entry),class:"text-lg flex-1"},null,8,to)]),i.part?(T(),L("p",{key:0,class:"flex flex-row gap-1 items-center",textContent:I(y(o)("message.word_"+i.part))},null,8,no)):Q("",!0),i.feed_id?(T(),L("p",{key:1,class:"flex flex-row gap-1 items-center",textContent:I(i.feed_id)},null,8,so)):Q("",!0)]),h("button",{type:"button",onClick:W(f=>y(n).removeFilter(i),["stop"]),class:"action-button hover:bg-red-700 hover:!border-red-700 group ml-auto",ref_for:!0,ref:"delete-btn"},a[3]||(a[3]=[h("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-trash group-hover:invert-100"},null,-1)]),8,oo)],10,Ys))),128))])):Q("",!0),s.value?(T(),ge(Qs,{key:s.value.id||"new",modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=i=>s.value=i),onCancel:a[1]||(a[1]=i=>s.value=null),onSubmit:a[2]||(a[2]=i=>r())},null,8,["modelValue"])):Q("",!0),s.value?Q("",!0):(T(),ge(kt,{key:2,"add-item":l}))]))}});let we=null,yt=null;const io=6e5,lo=(e,t)=>{const n=JSON.parse(t.data);n.id=="meta"?Ee().refreshNewsMeta(n):Ee().refreshNews(n)},uo=()=>{clearTimeout(yt),yt=setTimeout(co,io)},Le=()=>H(ue,null,function*(){return uo(),we=yield rn(we,"/news/",lo),we}),co=()=>an(we),fo=4,po=3e5,Ee=ze("news",()=>{const e=q([]),t=q({id:"meta",unread:0,reading:0});let n;const s=c=>{c.description&&c.description.trim()&&(c.description=new DOMParser().parseFromString(c.description,"text/html").body.textContent||""),Ke(c,e,p=>p.id==c.id,!0)},o=()=>H(ue,null,function*(){return(yield Le()).send(JSON.stringify(n&&n.request?n:{request:"unread"}))}),l=c=>t.value=c;function r(c,p=!1){return H(this,null,function*(){try{(yield Le()).send(JSON.stringify({request:p?"bookmark":"hide",id:c.id}));const m=e.value.findIndex(R=>R.id==c.id);m>=0&&(e.value.splice(m,1),n&&(n.request=="unread"||n.request=="reading")&&(t.value[n.request]-=t.value[n.request]>0?1:0)),e.value.length<=fo&&(yield o())}catch(m){console.error(m)}})}const u=q(!1);return{news:e,loadNews:o,refreshNews:s,markNews:r,fetchMoreNews:()=>H(ue,null,function*(){u.value?yield o():((yield Le()).send(JSON.stringify({request:"fetch"})),u.value=!0,setInterval(()=>u.value=!1,po))}),setQuery:c=>{n=c},dropNews:()=>{e.value=[]},fetchingMoreNews:u,refreshNewsMeta:l,newsMeta:t}}),mo={class:"flex flex-col items-center xl:max-w-screen-xl overflow-x-clip xl:[overflow-clip-margin:3px]"},ho=["href","onTouchstart","onTouchend","onTouchmove","onMousedown","onMousemove","onMouseup","onClick"],go={class:"flex flex-col gap-3 md:gap-4 lg:gap-5 sm:flex-row"},vo={class:"flex flex-col gap-1 sm:gap-2 flex-1 wrap-break-word"},_o={class:"font-semibold flex flex-row justify-between items-start gap-2"},xo=["textContent"],yo=["innerHTML"],bo={key:0,class:"mx-auto action-button sm:!hidden bg-white dark:bg-gray-800 !py-0 -mt-5 group"},wo={class:"hidden sm:flex sm:flex-row"},Co=["textContent"],Eo=["textContent"],Ro={class:"flex flex-row sm:flex-col sm:hidden"},ko=["textContent"],No=["textContent"],Ao={class:"flex flex-row sm:flex-col justify-center sm:justify-end items-center gap-3"},Oo=["onClick"],So=["onClick"],Io=["textContent"],Po=640,be=Y({__name:"NewsList",props:en({request:{},id:{}},{request:"unread"}),setup(e){const t=e,{t:n}=_e(),s=Ee();s.setQuery(t);const o=$t(),l=Re([]),r=q(""),u=q([]),{width:a}=He();qn((w,x)=>{s.dropNews()});const i=w=>{const x=o.feeds.find(g=>g.id==w);return x?x.title||x.url:""},f=q(0);let c=!1;const p=(w,x,g)=>{const O="changedTouches"in g?g.changedTouches[0].clientX:g.screenX;f.value=O},m=(w,x,g)=>{if(f.value<=0)return;const O="changedTouches"in g?g.changedTouches[0].clientX:g.screenX,C=Math.abs(O)-Math.abs(f.value),G=C>0?"right":"left";if(!c&&Math.abs(C)>20&&(c=!0),r.value!=G&&(r.value=G),Math.abs(C)>20){const $=l.value[x];$.style.left=C.toString()+"px"}},R=(w,x=!1)=>{setTimeout(()=>{const g=u.value.indexOf(w.id);g>=0&&u.value.splice(g,1),s.markNews(w,x)},400)},N=(w,x,g,O=null)=>{const C=l.value[x];let G=C.clientWidth||100;O||(r.value="",G=Math.abs("changedTouches"in g?g.changedTouches[0].clientX:g.screenX)-Math.abs(f.value),f.value=0,setTimeout(()=>c=!1,100),O=G>0?"right":"left"),Math.abs(G)/C.clientWidth>.25?O=="left"?(R(w),C.style.left="-"+(C.clientWidth*2).toString()+"px"):O=="right"&&(R(w,!0),C.style.left=(C.clientWidth*2).toString()+"px"):C.style.left="0"},P=(w,x,g)=>{if(c){g.preventDefault(),g.stopPropagation();return}if(a.value<Po&&w.description&&w.description.length>128&&u.value.indexOf(w.id)<0){u.value.push(w.id),g.preventDefault(),g.stopPropagation();return}};return s.loadNews(),o.feeds.length||o.loadFeeds(),(w,x)=>(T(),L("div",mo,[(T(!0),L(je,null,We(y(s).news,(g,O)=>(T(),L("div",{key:g.id,class:J(["flex w-full overflow-x-clip xl:[overflow-clip-margin:3px] relative gap-3 my-3 bg-gray-200",{"bg-green-700":r.value=="right"}])},[h("span",{class:J(["absolute opacity-0 top-0 right-5 w-[50px] h-[100%] duration-500 bg-no-repeat bg-center bg-contain svg-eye-slash",{"opacity-100 !duration-[0ms]":r.value=="left"}])},null,2),h("span",{class:J(["absolute opacity-0 top-0 left-5 w-[50px] h-[100%] duration-500 bg-no-repeat bg-center bg-contain svg-bookmark invert-100",{"opacity-100 !duration-[0ms]":r.value=="right"}])},null,2),h("a",{href:g.link,target:"_blank",ref_for:!0,ref_key:"newsElements",ref:l,onTouchstart:C=>p(g,O,C),onTouchend:C=>N(g,O,C),onTouchmove:C=>m(g,O,C),onMousedown:W(C=>p(g,O,C),["prevent"]),onMousemove:W(C=>m(g,O,C),["prevent"]),onMouseup:W(C=>N(g,O,C),["prevent"]),onClick:C=>P(g,O,C),class:J([{"transition-all duration-500 ease-linear":!r.value},"relative p-3 size-full shadow-black shadow-xs bg-white dark:bg-gray-800 dark:text-white cursor-pointer"])},[h("span",go,[h("span",vo,[h("span",_o,[h("span",{textContent:I(g.title),class:"text-lg"},null,8,xo)]),h("span",{innerHTML:g.description,class:J(["text-md flex-1 max-h-6 sm:!max-h-[60vh] overflow-y-hidden duration-300",{"max-h-[60vh]":g.description&&g.description.length<=128||u.value.indexOf(g.id)>=0}])},null,10,yo),g.description&&g.description.length>128&&u.value.indexOf(g.id)<0?(T(),L("span",bo,x[1]||(x[1]=[h("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-chevron-down group-hover:invert-100 dark:invert-100"},null,-1)]))):Q("",!0),h("span",wo,[h("span",{textContent:I(i(g.feed)),class:"flex-1"},null,8,Co),h("span",{textContent:I(g.published?y(n)("message.published")+" "+y(st)(g.published).fromNow():"")},null,8,Eo)])]),h("span",{class:J(["flex flex-col gap-2 sm:order-first min-w-[30%] lg:min-w-[310px] min-h-[200px] sm:min-h-auto md:min-h-[150px] lg:min-h-[150px]",{"min-h-auto sm:hidden":!g.enclosure_url}])},[g.enclosure_url?(T(),L("span",{key:0,class:"flex flex-1 w-full bg-cover bg-center bg-no-repeat",style:tn({"background-image":"url('"+g.enclosure_url+"')"})},null,4)):Q("",!0),h("span",Ro,[h("span",{textContent:I(i(g.feed)),class:"flex-1"},null,8,ko),h("span",{textContent:I(g.published?y(n)("message.published")+" "+y(st)(g.published).fromNow():"")},null,8,No)])],2),h("span",Ao,[h("span",{onClick:W(C=>N(g,O,C,"right"),["stop","prevent"]),class:"action-button hover:bg-green-700 hover:!border-green-700 group",ref_for:!0,ref:"bookmark-btn"},x[2]||(x[2]=[h("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-bookmark group-hover:invert-100 dark:invert-100"},null,-1)]),8,Oo),h("span",{onClick:W(C=>N(g,O,C,"left"),["stop","prevent"]),class:"action-button hover:bg-gray-300",ref_for:!0,ref:"hide-btn"},x[3]||(x[3]=[h("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-eye-slash dark:invert-100"},null,-1)]),8,So)])])],42,ho)],2))),128)),h("button",{type:"button",onClick:x[0]||(x[0]=g=>y(s).fetchMoreNews()),class:"action-button mt-2 mb-5 !px-4 gap-2 hover:bg-green-700 hover:!border-green-700 hover:text-white font-semibold duration-200 group flex flex-row items-center shadow-black shadow-xs bg-white hover:shadow-md hover:scale-[101%] dark:bg-gray-800 dark:!border-gray-900 dark:text-white cursor-pointer"},[x[4]||(x[4]=h("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-refresh group-hover:invert-100 dark:invert-100"},null,-1)),h("span",{textContent:I(y(s).fetchingMoreNews?y(n)("message.check_latest_news"):y(n)("message.load_more_news"))},null,8,Io)])]))}}),j={news:{path:"/news",component:be,props:{request:"unread"}},reading:{path:"/news/reading",component:be,props:{request:"reading"}},feeds:{path:"/news/feeds",component:Ds},filters:{path:"/news/filters",component:ao},viewed:{path:"/news/viewed",component:be,props:{request:"hidden"}},default:{path:"/",component:be,props:{request:"unread"}}},To=ms({history:Kn(),routes:[j.news,j.reading,j.viewed,j.feeds,j.filters,j.default]}),Mo={class:"bg-td-gray-light inset-shadow-[0_0_5px] inset-shadow-td-gray-dark/30 border-b border-b-gray-300 px-2 w-full dark:bg-gray-950 dark:border-b-black duration-200"},Do={class:"flex flex-row flex-wrap justify-start items-center gap-3 w-full max-w-screen-xl mx-auto font-medium",role:"menu"},Vo={role:"menuitem"},Fo=["textContent"],Lo=["textContent"],Go={role:"menuitem"},Bo=["textContent"],$o=["textContent"],Uo={role:"menuitem",class:"relative"},qo=["textContent"],Ho=["textContent"],jo=["textContent"],Wo=["textContent"],zo=Y({__name:"NewsNavigation",setup(e){const{t}=_e(),n=q(!1),s=Ee();return(o,l)=>(T(),L("nav",Mo,[h("ul",Do,[h("li",Vo,[oe(y(ae),{to:y(j).news,onClick:l[0]||(l[0]=r=>n.value=!1),class:"navigation-button relative"},{default:pe(()=>[l[6]||(l[6]=h("span",{class:"navigation-icon svg-inbox"},null,-1)),h("span",{textContent:I(y(t)("message.unread"))},null,8,Fo),h("span",{class:"absolute -right-2 -top-[1px] text-xs text-white bg-td-primary dark:text-black dark:bg-td-secondary rounded-xl py-0 px-1",textContent:I(y(s).newsMeta.unread)},null,8,Lo)]),_:1},8,["to"])]),h("li",Go,[oe(y(ae),{to:y(j).reading,onClick:l[1]||(l[1]=r=>n.value=!1),class:"navigation-button relative"},{default:pe(()=>[l[7]||(l[7]=h("span",{class:"navigation-icon svg-newspaper"},null,-1)),h("span",{textContent:I(y(t)("message.reading"))},null,8,Bo),h("span",{class:"absolute -right-2 -top-[1px] text-xs text-white bg-td-primary dark:text-black dark:bg-td-secondary rounded-xl py-0 px-1",textContent:I(y(s).newsMeta.reading)},null,8,$o)]),_:1},8,["to"])]),h("li",Uo,[h("button",{type:"button",class:"navigation-button cursor-pointer",onClick:l[2]||(l[2]=r=>n.value=!n.value),id:"preferences-btn"},[l[8]||(l[8]=h("span",{class:"navigation-icon svg-cog"},null,-1)),h("span",{textContent:I(y(t)("message.preferences"))},null,8,qo)]),h("div",{class:J(["absolute hidden z-10 right-0 mt-2 w-48 bg-white shadow-black shadow-sm py-1 border-b-gray-900 dark:bg-gray-900",{"!block":n.value}]),role:"menu","aria-orientation":"vertical","aria-labelledby":"preferences-btn"},[oe(y(ae),{to:y(j).viewed,onClick:l[3]||(l[3]=r=>n.value=!1),class:"navigation-button px-4"},{default:pe(()=>[l[9]||(l[9]=h("span",{class:"navigation-icon svg-eye"},null,-1)),h("span",{textContent:I(y(t)("message.viewed"))},null,8,Ho)]),_:1},8,["to"]),oe(y(ae),{to:y(j).feeds,onClick:l[4]||(l[4]=r=>n.value=!1),class:"navigation-button px-4"},{default:pe(()=>[l[10]||(l[10]=h("span",{class:"navigation-icon svg-rss"},null,-1)),h("span",{textContent:I(y(t)("message.feeds"))},null,8,jo)]),_:1},8,["to"]),oe(y(ae),{to:y(j).filters,onClick:l[5]||(l[5]=r=>n.value=!1),class:"navigation-button px-4"},{default:pe(()=>[l[11]||(l[11]=h("span",{class:"navigation-icon svg-funnel"},null,-1)),h("span",{textContent:I(y(t)("message.filters"))},null,8,Wo)]),_:1},8,["to"])],2)])])]))}}),Ko={class:"flex flex-col items-center"},Qo=Y({__name:"NewsApp",setup(e){const t=hs();return(n,s)=>(T(),L("div",Ko,[oe(zo),(T(),ge(y(Bt),{key:y(t).fullPath}))]))}});document.getElementById("news-app")&&nn(Qo).use(ln).use(un()).use(To).mount("#news-app")});export default Xo();
