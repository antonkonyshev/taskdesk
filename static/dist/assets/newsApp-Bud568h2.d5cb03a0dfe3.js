var ue=(u,d)=>()=>(d||u((d={exports:{}}).exports,d),d.exports);var L=(u,d,s)=>new Promise((o,c)=>{var n=i=>{try{a(s.next(i))}catch(r){c(r)}},t=i=>{try{a(s.throw(i))}catch(r){c(r)}},a=i=>i.done?o(i.value):Promise.resolve(i.value).then(n,t);a((s=s.apply(u,d)).next())});import{x as k,D as N,W as ne,F as T,X as se,G as f,H as x,P as e,Y as O,K as p,L as l,Z as A,U as y,A as U,$ as H,J as F,T as J,Q as C,M as D,O as Q,I as S,V as M,a0 as de,a1 as ce,a2 as me,S as oe,v as pe,w as ge}from"../InstallAppButton.vue_vue_type_script_setup_true_lang-hm-W6wS2.js";import{d as G,f as le,s as xe,g as ae,r as K,_ as Y,h as fe,p as ve,c as we,m as Z,o as be,i as he,a as _e,b as ye,R as P,j as ke,e as Ce}from"../moment-with-locales-Cjs9biKm.js";var kn=ue(z=>{const re=G("feed",()=>{const u=k([]),d=(t=null)=>"/feed/"+(t&&t.id?t.id+"/":""),s=t=>K(t,u,a=>t.id&&a.id?t.id==a.id:t.url==a.url),o=()=>L(z,null,function*(){return(yield le(d())).forEach(s)}),c=t=>ae(t,u,d(t),a=>t.id&&a.id?a.id==t.id:t.url==a.url),n=t=>xe(t,u,d(t),a=>t.id&&a.id?a.id==t.id:t.url==a.url);return o(),{feeds:u,loadFeeds:o,removeFeed:c,saveFeed:n}}),$e={class:"flex-1 lg:flex-2 my-3 mx-3 md:ml-3 px-4 py-3.5 bg-white min-h-screen shadow-[0px_0px_5px_-2px_#000] dark:bg-gray-800 dark:text-white"},Fe={class:"mt-3"},Le=["textContent"],Ne=["placeholder"],Se={class:"mt-2"},Me=["textContent"],Te=["placeholder"],Ve={class:"mt-6"},qe=["textContent"],Ie=N({__name:"FeedForm",props:{modelValue:{required:!0},modelModifiers:{}},emits:ne(["cancel","submit"],["update:modelValue"]),setup(u,{emit:d}){const{t:s}=T(),o=se(u,"modelValue"),c=d,n=k(o.value.title),t=k(o.value.url),a=()=>{o.value.title=n.value.trim(),o.value.url=t.value.trim(),c("submit")};return(i,r)=>(x(),f("div",$e,[e("form",{name:"feedForm",onSubmit:y(a,["prevent"])},[e("p",null,[e("button",{type:"button",onClick:r[0]||(r[0]=w=>c("cancel")),class:"action-button hover:bg-gray-300",ref:"cancel-btn"},r[4]||(r[4]=[e("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-arrow-left dark:invert-100 dark:hover:invert-0"},null,-1)]),512)]),e("p",Fe,[e("label",{for:"id_title",textContent:p(l(s)("message.name"))},null,8,Le),O(e("input",{id:"id_title",name:"title",type:"text","onUpdate:modelValue":r[1]||(r[1]=w=>n.value=w),placeholder:l(s)("message.feed_title_placeholder"),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,8,Ne),[[A,n.value]])]),e("p",Se,[e("label",{for:"id_url",textContent:p(l(s)("message.url"))},null,8,Me),O(e("input",{id:"id_url",name:"url",type:"url","onUpdate:modelValue":r[2]||(r[2]=w=>t.value=w),placeholder:l(s)("message.feed_url_placeholder"),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,8,Te),[[A,t.value]])]),e("p",Ve,[e("button",{type:"submit",onClick:r[3]||(r[3]=y(w=>a(),["stop"])),textContent:p(l(s)("message.save")),ref:"submit-btn",class:"bg-green-700 hover:bg-green-600 text-white transition-colors duration-200 hover:cursor-pointer font-bold py-3 px-6 rounded-lg min-w-xs sm:min-w-sm"},null,8,qe)])],32)]))}}),Pe={class:"flex flex-row w-full max-w-screen-xl"},Oe={key:0,class:"flex-1 md:-ml-6 md:pl-6"},ze=["onClick"],We={class:"flex-1 break-all"},Ae={class:"font-semibold flex flex-row justify-between items-start gap-2"},je=["textContent"],Be=["textContent"],Ee=["onClick"],Xe={key:0,class:"flex flex-row justify-end items-center text-center xs:gap-3 xs:px-3 sm:gap-5 sm:px-5 md:gap-6 md:px-6 border-l-gray-300 border-l",role:"menu"},Re={role:"menuitem"},Ue=["textContent"],He=640,Je=N({__name:"FeedList",setup(u){const{t:d}=T(),{width:s}=U(),o=re(),c=H(null);function n(){return L(this,null,function*(){c.value={title:"",url:""}})}function t(){return L(this,null,function*(){if(!c.value)return;const a=c.value;c.value=null,yield o.saveFeed(a)})}return(a,i)=>(x(),f("div",Pe,[(!c.value||l(s)>=He)&&l(o).feeds.length?(x(),f("div",Oe,[(x(!0),f(D,null,Q(l(o).feeds,r=>(x(),f("div",{key:r.id,onClick:w=>c.value=r,class:S([{"!shadow-lg !scale-[102%]":c.value&&r.id===c.value.id},"flex flex-row items-center my-3 p-3 shadow-black shadow-xs bg-white hover:shadow-md hover:scale-[101%] dark:bg-gray-800 dark:text-white duration-200 cursor-pointer"])},[e("div",We,[e("h2",Ae,[e("span",{textContent:p(r.title),class:"text-lg flex-1"},null,8,je)]),e("p",{class:"flex flex-row gap-1 items-center",textContent:p(r.url)},null,8,Be)]),e("button",{type:"button",onClick:y(w=>l(o).removeFeed(r),["stop"]),class:"action-button hover:bg-red-700 hover:!border-red-700 group ml-auto",ref_for:!0,ref:"delete-btn"},i[3]||(i[3]=[e("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-trash dark:invert-100 group-hover:invert-100"},null,-1)]),8,Ee)],10,ze))),128))])):F("",!0),c.value?(x(),J(Ie,{key:c.value.id||"new",modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=r=>c.value=r),onCancel:i[1]||(i[1]=r=>c.value=null),onSubmit:i[2]||(i[2]=r=>t())},null,8,["modelValue"])):F("",!0),C(Y,null,{default:M(()=>[c.value?F("",!0):(x(),f("ul",Xe,[e("li",Re,[e("a",{href:"",onClick:y(n,["stop","prevent"]),class:"navigation-button flex !flex-col !px-4"},[i[4]||(i[4]=e("span",{class:"navigation-icon !mx-0 svg-plus-circle"},null,-1)),e("span",{class:"text-sm",textContent:p(l(d)("message.add_feed"))},null,8,Ue)])])]))]),_:1})]))}}),De=G("filter",()=>{const u=k([]),d=(t=null)=>"/filter/"+(t&&t.id?t.id+"/":""),s=()=>L(z,null,function*(){return(yield le(d())).forEach(o)}),o=t=>K(t,u,a=>t.id&&a.id?t.id==a.id:t.entry==a.entry&&t.part==a.part&&t.feed_id==a.feed_id),c=t=>ae(t,u,d(t),a=>t.id&&a.id?t.id==a.id:t.entry==a.entry&&t.part==a.part&&t.feed_id==a.feed_id);function n(t){return L(this,null,function*(){t.id||(t.entry=t.entry.toLowerCase(),u.value.unshift(t));try{o(yield fe(t,"post",d(t)))}catch(a){t.id||u.value.splice(0,1)}})}return s(),{filters:u,loadFilters:s,removeFilter:c,saveFilter:n}}),Qe={class:"flex-1 lg:flex-2 my-3 mx-3 md:!ml-0 px-4 py-3.5 bg-white min-h-screen shadow-[0px_0px_5px_-2px_#000] dark:bg-gray-800 dark:text-white"},Ge={class:"mt-3"},Ke=["textContent"],Ye=["placeholder"],Ze={class:"mt-2"},et=["textContent"],tt=["textContent"],nt=["textContent"],st=["textContent"],ot=["textContent"],lt={class:"mt-6"},at=["textContent"],rt=N({__name:"FilterForm",props:{modelValue:{required:!0},modelModifiers:{}},emits:ne(["cancel","submit"],["update:modelValue"]),setup(u,{emit:d}){const{t:s}=T(),o=se(u,"modelValue"),c=d,n=k(o.value.entry),t=k(o.value.part),a=()=>{o.value.entry=n.value.trim(),o.value.part=t.value.trim(),c("submit")};return(i,r)=>(x(),f("div",Qe,[e("form",{name:"filterForm",onSubmit:y(a,["prevent"])},[e("p",null,[e("button",{type:"button",onClick:r[0]||(r[0]=w=>c("cancel")),class:"action-button hover:bg-gray-300",ref:"cancel-btn"},r[4]||(r[4]=[e("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-arrow-left dark:invert-100 dark:hover:invert-0"},null,-1)]),512)]),e("p",Ge,[e("label",{for:"id_entry",textContent:p(l(s)("message.word"))},null,8,Ke),O(e("input",{id:"id_entry",name:"entry",type:"text","onUpdate:modelValue":r[1]||(r[1]=w=>n.value=w),placeholder:l(s)("message.filter_entry_placeholder"),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,8,Ye),[[A,n.value]])]),e("p",Ze,[e("label",{for:"id_part",textContent:p(l(s)("message.part_of_word"))},null,8,et),O(e("select",{id:"id_part",name:"part","onUpdate:modelValue":r[2]||(r[2]=w=>t.value=w),class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},[e("option",{value:"start",textContent:p(l(s)("message.word_start"))},null,8,tt),e("option",{value:"end",textContent:p(l(s)("message.word_end"))},null,8,nt),e("option",{value:"full",textContent:p(l(s)("message.word_full"))},null,8,st),e("option",{value:"part",textContent:p(l(s)("message.word_part"))},null,8,ot)],512),[[de,t.value]])]),e("p",lt,[e("button",{type:"submit",onClick:r[3]||(r[3]=y(w=>a(),["stop"])),textContent:p(l(s)("message.save")),ref:"submit-btn",class:"bg-green-700 hover:bg-green-600 text-white transition-colors duration-200 hover:cursor-pointer font-bold py-3 px-6 rounded-lg min-w-xs sm:min-w-sm"},null,8,at)])],32)]))}}),it={class:"flex flex-row w-full max-w-screen-xl"},ut={key:0,class:"flex-1 md:-ml-6 md:pl-6"},dt=["onClick"],ct={class:"flex-1"},mt={class:"font-semibold flex flex-row justify-between items-start gap-2"},pt=["textContent"],gt=["textContent"],xt=["textContent"],ft=["onClick"],vt={key:0,class:"flex flex-row justify-end items-center text-center xs:gap-3 xs:px-3 sm:gap-5 sm:px-5 md:gap-6 md:px-6 border-l-gray-300 border-l",role:"menu"},wt={role:"menuitem"},bt=["textContent"],ht=768,_t=N({__name:"FilterList",setup(u){const{width:d}=U(),s=De(),o=H(null),{t:c}=T();function n(){return L(this,null,function*(){o.value={entry:"",part:"start"}})}function t(){return L(this,null,function*(){if(!o.value)return;const a=o.value;o.value=null,yield s.saveFilter(a)})}return(a,i)=>(x(),f("div",it,[(!o.value||l(d)>=ht)&&l(s).filters.length?(x(),f("div",ut,[(x(!0),f(D,null,Q(l(s).filters,r=>(x(),f("div",{key:r.id,onClick:w=>o.value=r,class:S([{"!shadow-lg !scale-[102%]":o.value&&r.id===o.value.id},"flex flex-row items-center my-3 p-3 md:mx-4 shadow-black shadow-xs bg-white hover:shadow-md hover:scale-[101%] dark:bg-gray-800 dark:text-white duration-200 cursor-pointer break-words"])},[e("div",ct,[e("h2",mt,[e("span",{textContent:p(r.entry),class:"text-lg flex-1"},null,8,pt)]),r.part?(x(),f("p",{key:0,class:"flex flex-row gap-1 items-center",textContent:p(l(c)("message.word_"+r.part))},null,8,gt)):F("",!0),r.feed_id?(x(),f("p",{key:1,class:"flex flex-row gap-1 items-center",textContent:p(r.feed_id)},null,8,xt)):F("",!0)]),e("button",{type:"button",onClick:y(w=>l(s).removeFilter(r),["stop"]),class:"action-button hover:bg-red-700 hover:!border-red-700 group ml-auto",ref_for:!0,ref:"delete-btn"},i[3]||(i[3]=[e("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-trash group-hover:invert-100"},null,-1)]),8,ft)],10,dt))),128))])):F("",!0),o.value?(x(),J(rt,{key:o.value.id||"new",modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=r=>o.value=r),onCancel:i[1]||(i[1]=r=>o.value=null),onSubmit:i[2]||(i[2]=r=>t())},null,8,["modelValue"])):F("",!0),C(Y,null,{default:M(()=>[o.value?F("",!0):(x(),f("ul",vt,[e("li",wt,[e("a",{href:"",onClick:y(n,["stop","prevent"]),class:"navigation-button flex !flex-col !px-4"},[i[4]||(i[4]=e("span",{class:"navigation-icon !mx-0 svg-plus-circle"},null,-1)),e("span",{class:"text-sm",textContent:p(l(c)("message.add_filter"))},null,8,bt)])])]))]),_:1})]))}});let X=null,ee=null;const yt=6e5,kt=(u,d)=>{const s=JSON.parse(d.data);s.id=="meta"?j().refreshNewsMeta(s):j().refreshNews(s)},Ct=()=>{clearTimeout(ee),ee=setTimeout($t,yt)},R=()=>L(z,null,function*(){return Ct(),X=yield ve(X,"/news/",kt),X}),$t=()=>we(X),Ft=3e5,j=G("news",()=>{const u=k([]),d=k({id:"meta",unread:0,reading:0});let s,o=4;const c=v=>{v.description&&v.description.trim()&&(v.description=new DOMParser().parseFromString(v.description,"text/html").body.textContent||""),K(v,u,V=>V.id==v.id,!0)},n=()=>L(z,null,function*(){return(yield R()).send(JSON.stringify(s&&s.request?s:{request:"unread"}))}),t=v=>d.value=v;function a(v,V=!1){return L(this,null,function*(){try{(yield R()).send(JSON.stringify({request:V?"bookmark":"hide",id:v.id}));const q=u.value.findIndex(b=>b.id==v.id);q>=0&&(u.value.splice(q,1),s&&(s.request=="unread"||s.request=="reading")&&(d.value[s.request]-=d.value[s.request]>0?1:0)),u.value.length<=o&&(yield n())}catch(q){console.error(q)}})}const i=k(!1),r=()=>L(z,null,function*(){i.value?yield n():((yield R()).send(JSON.stringify({request:"fetch"})),i.value=!0,setInterval(()=>i.value=!1,Ft))}),w=v=>{s=v},B=()=>{u.value=[]},W=()=>{try{const v=localStorage.getItem("newsPreferences");v&&(o=JSON.parse(v).newsListLengthForAutoLoad||4)}catch(v){}};return W(),{news:u,loadNews:n,refreshNews:c,markNews:a,fetchMoreNews:r,setQuery:w,dropNews:B,fetchingMoreNews:i,refreshNewsMeta:t,newsMeta:d,loadPreferences:W}}),Lt={class:"flex flex-col gap-3 md:gap-4 lg:gap-5 sm:flex-row"},Nt={class:"flex flex-col gap-1 sm:gap-2 flex-1 wrap-break-word"},St={class:"font-semibold flex flex-row justify-between items-start gap-2"},Mt=["textContent"],Tt=["innerHTML"],Vt={key:0,class:"mx-auto unfold-button sm:!hidden bg-white dark:bg-gray-800 !py-0 -mt-5 group"},qt={class:"hidden sm:flex sm:flex-row"},It=["textContent"],Pt=["textContent"],Ot={class:"flex flex-row sm:flex-col sm:hidden"},zt=["textContent"],Wt=["textContent"],At={class:"flex flex-row sm:flex-col justify-center sm:justify-end items-center gap-3"},jt=N({__name:"NewsItem",props:{news:{type:Object,required:!0},isFolded:{type:Boolean,default:!1}},emits:["hide","bookmark"],setup(u,{emit:d}){const s=d,{t:o}=T(),c=re(),n=t=>{const a=c.feeds.find(i=>i.id==t);return a?a.title||a.url:""};return(t,a)=>(x(),f("span",Lt,[e("span",Nt,[e("span",St,[e("span",{textContent:p(u.news.title),class:"text-lg"},null,8,Mt)]),e("span",{innerHTML:u.news.description,class:S(["text-md flex-1 max-h-6 sm:!max-h-[60vh] overflow-y-hidden duration-300",{"max-h-[60vh]":!u.isFolded}])},null,10,Tt),u.isFolded?(x(),f("span",Vt,a[2]||(a[2]=[e("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-chevron-down group-hover:invert-100 dark:invert-100 duration-500"},null,-1)]))):F("",!0),e("span",qt,[e("span",{textContent:p(n(u.news.feed)),class:"flex-1"},null,8,It),e("span",{textContent:p(u.news.published?l(o)("message.published")+" "+l(Z)(u.news.published).fromNow():"")},null,8,Pt)])]),e("span",{class:S(["flex flex-col gap-2 sm:order-first min-w-[30%] lg:min-w-[310px] min-h-[200px] sm:min-h-auto md:min-h-[150px] lg:min-h-[150px]",{"min-h-auto sm:hidden":!u.news.enclosure_url}])},[u.news.enclosure_url?(x(),f("span",{key:0,class:"flex flex-1 w-full bg-cover bg-center bg-no-repeat",style:ce({"background-image":"url('"+u.news.enclosure_url+"')"})},null,4)):F("",!0),e("span",Ot,[e("span",{textContent:p(n(u.news.feed)),class:"flex-1"},null,8,zt),e("span",{textContent:p(u.news.published?l(o)("message.published")+" "+l(Z)(u.news.published).fromNow():"")},null,8,Wt)])],2),e("span",At,[e("span",{onClick:a[0]||(a[0]=y(i=>s("bookmark",u.news),["stop","prevent"])),class:"action-button hover:bg-green-700 hover:!border-green-700 group",ref:"bookmark-btn"},a[3]||(a[3]=[e("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-bookmark group-hover:invert-100 dark:invert-100"},null,-1)]),512),e("span",{onClick:a[1]||(a[1]=y(i=>s("hide",u.news),["stop","prevent"])),class:"action-button hover:bg-gray-300",ref:"hide-btn"},a[4]||(a[4]=[e("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-eye-slash dark:invert-100"},null,-1)]),512)])]))}}),Bt={class:"flex flex-row justify-end items-center text-center xs:gap-3 xs:px-3 sm:gap-5 sm:px-5 md:gap-6 md:px-6 border-l-gray-300 border-l",role:"menu"},Et={role:"menuitem"},Xt=["textContent"],Rt={role:"menuitem"},Ut=["textContent"],Ht=N({__name:"NewsToolbarActions",emits:["hide","bookmark"],setup(u,{emit:d}){const{t:s}=T(),o=d;return(c,n)=>(x(),f("ul",Bt,[e("li",Et,[e("a",{href:"",onClick:n[0]||(n[0]=y(t=>o("bookmark",t),["stop","prevent"])),class:"navigation-button flex !flex-col !px-4"},[n[2]||(n[2]=e("span",{class:"navigation-icon !mx-0 svg-bookmark"},null,-1)),e("span",{class:"text-sm",textContent:p(l(s)("message.mark"))},null,8,Xt)])]),e("li",Rt,[e("a",{href:"",onClick:n[1]||(n[1]=y(t=>o("hide",t),["stop","prevent"])),class:"navigation-button flex !flex-col !px-4"},[n[3]||(n[3]=e("span",{class:"navigation-icon !mx-0 svg-eye-slash"},null,-1)),e("span",{class:"text-sm",textContent:p(l(s)("message.hide"))},null,8,Ut)])])]))}}),Jt={class:"flex flex-col items-center xl:max-w-screen-xl overflow-x-clip xl:[overflow-clip-margin:3px]"},Dt=["href","onTouchstart","onTouchend","onTouchmove","onMousedown","onMousemove","onMouseup","onClick"],Qt=["textContent"],Gt=640,E=N({__name:"NewsList",props:me({request:{},id:{}},{request:"unread"}),setup(u){const d=u,{t:s}=T(),o=j(),c=H([]),n=k(""),t=k([]),{width:a}=U();be(b=>{try{o.setQuery(b.matched[0].props.default)}catch(_){}o.dropNews(),o.loadNews()}),oe(()=>{o.setQuery(d),o.loadNews()});const i=k(0);let r=!1;const w=(b,_,m)=>{const h="changedTouches"in m?m.changedTouches[0].clientX:m.screenX;i.value=h},B=(b,_,m)=>{if(i.value<=0)return;const h="changedTouches"in m?m.changedTouches[0].clientX:m.screenX,g=Math.abs(h)-Math.abs(i.value),I=g>0?"right":"left";if(!r&&Math.abs(g)>20&&(r=!0),n.value!=I&&(n.value=I),Math.abs(g)>20){const ie=c.value[_];ie.style.left=g.toString()+"px"}},W=(b,_=!1)=>{setTimeout(()=>{const m=t.value.indexOf(b.id);m>=0&&t.value.splice(m,1),o.markNews(b,_)},400)},v=(b,_,m,h=null)=>{const g=c.value[_];let I=g.clientWidth||100;h||(n.value="",I=Math.abs("changedTouches"in m?m.changedTouches[0].clientX:m.screenX)-Math.abs(i.value),i.value=0,setTimeout(()=>r=!1,100),h=I>0?"right":"left"),Math.abs(I)/g.clientWidth>.25?h=="left"?(W(b),g.style.left="-"+(g.clientWidth*2).toString()+"px"):h=="right"&&(W(b,!0),g.style.left=(g.clientWidth*2).toString()+"px"):g.style.left="0"},V=b=>!!(b.description&&b.description.length>128&&t.value.indexOf(b.id)<0),q=(b,_,m)=>{if(r){m.preventDefault(),m.stopPropagation();return}if(a.value<Gt&&V(b)){t.value.push(b.id),m.preventDefault(),m.stopPropagation();return}};return(b,_)=>(x(),f("div",Jt,[(x(!0),f(D,null,Q(l(o).news,(m,h)=>(x(),f("div",{key:m.id,class:S(["flex w-full overflow-x-clip xl:[overflow-clip-margin:3px] relative gap-3 my-3 bg-gray-200",{"bg-green-700":n.value=="right"}])},[e("span",{class:S(["absolute opacity-0 top-0 right-5 w-[50px] h-[100%] duration-500 bg-no-repeat bg-center bg-contain svg-eye-slash",{"opacity-100 !duration-[0ms]":n.value=="left"}])},null,2),e("span",{class:S(["absolute opacity-0 top-0 left-5 w-[50px] h-[100%] duration-500 bg-no-repeat bg-center bg-contain svg-bookmark invert-100",{"opacity-100 !duration-[0ms]":n.value=="right"}])},null,2),e("a",{href:m.link,target:"_blank",ref_for:!0,ref_key:"newsElements",ref:c,onTouchstart:g=>w(m,h,g),onTouchend:g=>v(m,h,g),onTouchmove:g=>B(m,h,g),onMousedown:y(g=>w(m,h,g),["prevent"]),onMousemove:y(g=>B(m,h,g),["prevent"]),onMouseup:y(g=>v(m,h,g),["prevent"]),onClick:g=>q(m,h,g),class:S([{"transition-all duration-500 ease-linear":!n.value},"relative p-3 size-full shadow-black shadow-xs bg-white dark:bg-gray-800 dark:text-white cursor-pointer"])},[C(jt,{news:m,onHide:g=>v(m,h,g,"left"),onBookmark:g=>v(m,h,g,"right"),"is-folded":V(m)},null,8,["news","onHide","onBookmark","is-folded"])],42,Dt)],2))),128)),d.request=="unread"?(x(),f("button",{key:0,type:"button",onClick:_[0]||(_[0]=m=>l(o).fetchMoreNews()),class:S([{"mt-[25vh]":!l(o).news.length},"action-button flex mt-2 mb-5 !px-4 gap-2 hover:bg-green-700 hover:!border-green-700 hover:text-white font-semibold duration-200 group flex-row items-center shadow-black shadow-xs bg-white hover:shadow-md hover:scale-[101%] dark:bg-gray-800 dark:!border-gray-900 dark:text-white cursor-pointer"])},[_[3]||(_[3]=e("span",{class:"inline-block size-6 bg-no-repeat bg-center bg-contain svg-refresh group-hover:invert-100 dark:invert-100"},null,-1)),e("span",{textContent:p(l(o).fetchingMoreNews?l(s)("message.check_latest_news"):l(s)("message.load_more_news"))},null,8,Qt)],2)):F("",!0),C(Y,null,{default:M(()=>[l(o).news.length?(x(),J(Ht,{key:0,onHide:_[1]||(_[1]=m=>v(l(o).news[0],0,m,"left")),onBookmark:_[2]||(_[2]=m=>v(l(o).news[0],0,m,"right"))})):F("",!0)]),_:1})]))}}),Kt={class:"flex flex-col items-start w-full xl:max-w-screen-xl bg-white dark:bg-gray-800 shadow-md p-4 my-3 sm:px-6 sm:py-5 sm:my-4"},Yt=["textContent"],Zt={class:"mb-3"},en=["textContent"],tn={class:"mb-6"},nn=["textContent"],sn=["textContent"],on=N({__name:"PreferencesForm",setup(u){const{t:d}=T(),s=he(),o=k(10),c=k(4),n=j();oe(()=>{const a=localStorage.getItem("newsPreferences");if(a)try{const i=JSON.parse(a);o.value=i.newsListLength||10,c.value=i.newsListLengthForAutoLoad||4}catch(i){}});const t=()=>{localStorage.setItem("newsPreferences",JSON.stringify({newsListLength:o.value,newsListLengthForAutoLoad:c.value})),n.loadPreferences(),s.back()};return(a,i)=>(x(),f("div",Kt,[e("h1",{class:"text-xl text-left font-bold mb-4 dark:text-white",textContent:p(l(d)("message.preferences"))},null,8,Yt),e("form",{onSubmit:y(t,["prevent"]),name:"preferencesForm"},[e("div",Zt,[e("label",{for:"newsListLength_id",textContent:p(l(d)("message.news_list_length"))},null,8,en),O(e("input",{id:"newsListLength_id",name:"newsListLength","onUpdate:modelValue":i[0]||(i[0]=r=>o.value=r),type:"number",min:"1",class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,512),[[A,o.value,void 0,{number:!0}]])]),e("div",tn,[e("label",{for:"newsListLengthForAutoLoad_id",textContent:p(l(d)("message.news_list_length_for_auto_load"))},null,8,nn),O(e("input",{id:"newsListLengthForAutoLoad_id",name:"newsListLengthForAutoLoad","onUpdate:modelValue":i[1]||(i[1]=r=>c.value=r),type:"number",min:"1",class:"input-field rounded-lg min-w-xs sm:min-w-sm md:min-w-md lg:min-w-lg xl:min-w-xl dark:!bg-gray-700"},null,512),[[A,c.value,void 0,{number:!0}]])]),e("button",{type:"submit",ref:"submit-btn",textContent:p(l(d)("message.save")),class:"bg-green-700 hover:bg-green-600 text-white transition-colors duration-200 hover:cursor-pointer font-bold py-3 px-6 mb-3 rounded-lg min-w-xs sm:min-w-sm"},null,8,sn)],32)]))}}),$={news:{path:"/news",component:E,props:{request:"unread"}},reading:{path:"/news/reading",component:E,props:{request:"reading"}},feeds:{path:"/news/feeds",component:Je},filters:{path:"/news/filters",component:_t},viewed:{path:"/news/viewed",component:E,props:{request:"hidden"}},preferences:{path:"/news/preferences",component:on},default:{path:"/",component:E,props:{request:"unread"}}},ln=_e({history:ye(),routes:[$.news,$.reading,$.viewed,$.feeds,$.filters,$.preferences,$.default]}),an=["textContent"],te=N({__name:"Counter",props:{value:Number},setup(u){return(d,s)=>u.value?(x(),f("span",{key:0,class:"absolute -right-2 -top-[1px] text-xs text-white bg-td-primary dark:text-black dark:bg-td-secondary rounded-xl py-0 px-1",textContent:p(u.value)},null,8,an)):F("",!0)}}),rn={class:"bg-td-gray-light inset-shadow-[0_0_5px] inset-shadow-td-gray-dark/30 border-b border-b-gray-300 px-2 w-full dark:bg-gray-950 dark:border-b-black duration-200"},un={class:"flex flex-row flex-wrap justify-start items-center gap-3 w-full max-w-screen-xl mx-auto font-medium",role:"menu"},dn={role:"menuitem"},cn=["textContent"],mn={role:"menuitem"},pn=["textContent"],gn={role:"menuitem",class:"relative"},xn=["textContent"],fn=["textContent"],vn=["textContent"],wn=["textContent"],bn=["textContent"],hn=N({__name:"NewsNavigation",setup(u){const{t:d}=T(),s=k(!1),o=j();return(c,n)=>(x(),f("nav",rn,[e("ul",un,[e("li",dn,[C(l(P),{to:l($).news,onClick:n[0]||(n[0]=t=>s.value=!1),class:"navigation-button relative"},{default:M(()=>[n[7]||(n[7]=e("span",{class:"navigation-icon svg-inbox"},null,-1)),e("span",{textContent:p(l(d)("message.unread"))},null,8,cn),C(te,{value:l(o).newsMeta.unread},null,8,["value"])]),_:1},8,["to"])]),e("li",mn,[C(l(P),{to:l($).reading,onClick:n[1]||(n[1]=t=>s.value=!1),class:"navigation-button relative"},{default:M(()=>[n[8]||(n[8]=e("span",{class:"navigation-icon svg-newspaper"},null,-1)),e("span",{textContent:p(l(d)("message.reading"))},null,8,pn),C(te,{value:l(o).newsMeta.reading},null,8,["value"])]),_:1},8,["to"])]),e("li",gn,[e("button",{type:"button",class:"navigation-button cursor-pointer",onClick:n[2]||(n[2]=t=>s.value=!s.value),id:"settings-btn"},[n[9]||(n[9]=e("span",{class:"navigation-icon svg-cog"},null,-1)),e("span",{textContent:p(l(d)("message.settings"))},null,8,xn)]),e("div",{class:S(["absolute hidden z-10 right-0 mt-2 w-48 bg-white shadow-black shadow-sm py-1 border-b-gray-900 dark:bg-gray-900",{"!block":s.value}]),role:"menu","aria-orientation":"vertical","aria-labelledby":"settings-btn"},[C(l(P),{to:l($).viewed,onClick:n[3]||(n[3]=t=>s.value=!1),class:"navigation-button px-4"},{default:M(()=>[n[10]||(n[10]=e("span",{class:"navigation-icon svg-eye"},null,-1)),e("span",{textContent:p(l(d)("message.viewed"))},null,8,fn)]),_:1},8,["to"]),C(l(P),{to:l($).feeds,onClick:n[4]||(n[4]=t=>s.value=!1),class:"navigation-button px-4"},{default:M(()=>[n[11]||(n[11]=e("span",{class:"navigation-icon svg-rss"},null,-1)),e("span",{textContent:p(l(d)("message.feeds"))},null,8,vn)]),_:1},8,["to"]),C(l(P),{to:l($).filters,onClick:n[5]||(n[5]=t=>s.value=!1),class:"navigation-button px-4"},{default:M(()=>[n[12]||(n[12]=e("span",{class:"navigation-icon svg-funnel"},null,-1)),e("span",{textContent:p(l(d)("message.filters"))},null,8,wn)]),_:1},8,["to"]),C(l(P),{to:l($).preferences,onClick:n[6]||(n[6]=t=>s.value=!1),class:"navigation-button px-4"},{default:M(()=>[n[13]||(n[13]=e("span",{class:"navigation-icon svg-cog"},null,-1)),e("span",{textContent:p(l(d)("message.preferences"))},null,8,bn)]),_:1},8,["to"])],2)])])]))}}),_n={class:"flex flex-col items-center"},yn=N({__name:"NewsApp",setup(u){return(d,s)=>(x(),f("div",_n,[C(hn),C(l(ke))]))}});document.getElementById("news-app")&&pe(yn).use(ge).use(Ce()).use(ln).mount("#news-app")});export default kn();
